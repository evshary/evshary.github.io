<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 5.4.2">

  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css" integrity="sha256-HtsXJanqjKTc8vVQjO4YMhiqFoXkfBsjBWcX91T1jr8=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"evshary.com","root":"/","images":"/images","scheme":"Muse","darkmode":false,"version":"8.16.0","exturl":false,"sidebar":{"position":"right","display":"post","padding":18,"offset":12},"copycode":{"enable":false,"style":null},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"},"path":"/search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false}}</script><script src="/js/config.js"></script>

    <meta property="og:type" content="website">
<meta property="og:title" content="CY&#39;s Blog">
<meta property="og:url" content="http://evshary.com/page/3/index.html">
<meta property="og:site_name" content="CY&#39;s Blog">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="evshary">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="http://evshary.com/page/3/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":true,"isPost":false,"lang":"en","comments":"","permalink":"","path":"page/3/index.html","title":""}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>CY's Blog</title>
  
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-105315332-1"></script>
  <script class="next-config" data-name="google_analytics" type="application/json">{"tracking_id":"UA-105315332-1","only_pageview":false}</script>
  <script src="/js/third-party/analytics/google-analytics.js"></script>








  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
<link rel="alternate" href="/atom.xml" title="CY's Blog" type="application/atom+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">CY's Blog</h1>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">All work is preparing yourself for the accident waiting to happen.</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="Search" role="button">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a></li><li class="menu-item menu-item-about"><a href="/aboutme/" rel="section"><i class="fa fa-user fa-fw"></i>About</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup"><div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off" maxlength="80"
           placeholder="Searching..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close" role="button">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div class="search-result-container no-result">
  <div class="search-result-icon">
    <i class="fa fa-spinner fa-pulse fa-5x"></i>
  </div>
</div>

    </div>
  </div>

</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">evshary</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">30</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">3</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">12</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author animated">
      <span class="links-of-author-item">
        <a href="https://github.com/evshary" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;evshary" rel="noopener me" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="/atom.xml" title="RSS → &#x2F;atom.xml" rel="noopener me"><i class="fa fa-rss fa-fw"></i>RSS</a>
      </span>
  </div>

        </div>
      </div>
    </div>

    
  </aside>


    </div>

    <div class="main-inner index posts-expand">

    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://evshary.com/2018/04/28/%E5%BF%83%E6%B5%81%E8%88%87%E4%BA%BA%E7%94%9F/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="evshary">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="CY's Blog">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | CY's Blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2018/04/28/%E5%BF%83%E6%B5%81%E8%88%87%E4%BA%BA%E7%94%9F/" class="post-title-link" itemprop="url">心流與人生</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2018-04-28 17:55:11" itemprop="dateCreated datePublished" datetime="2018-04-28T17:55:11+00:00">2018-04-28</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2024-09-16 14:11:06" itemprop="dateModified" datetime="2024-09-16T14:11:06+00:00">2024-09-16</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E8%AE%80%E6%9B%B8%E5%BF%83%E5%BE%97/" itemprop="url" rel="index"><span itemprop="name">讀書心得</span></a>
        </span>
    </span>

  
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus: </span>
    
    <a title="disqus" href="/2018/04/28/%E5%BF%83%E6%B5%81%E8%88%87%E4%BA%BA%E7%94%9F/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2018/04/28/心流與人生/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>人生的意義到底是什麼呢？這個問題應該每個人或多或少在成長過程都有想過吧？特別是在青春期的時候，心裡因為不知道未來的方向，而有陷入迷惘中，會覺得人生好像是沒有意義的。在我高中時期就是在這樣的狀態中，為了符合外在的要求(拿到好成績)而努力，但是卻不知道自己心裡真正是為何而努力。這樣的心情雖然隨著年齡的增長而慢慢減緩，但是若是問到自己的人生有什麼意義這回事，我想我還是回答不出來。</p>
<p>但是，人生的意義其實根本就只是個偽命題。我們通常期望很輕鬆地得到一個目標，然後再去努力，但是常常人生的意義是先去努力，然後才會得到。最近看了「<a target="_blank" rel="noopener" href="http://www.books.com.tw/products/CN11489806">心流：最優體驗心理學</a>」 ，裡面提到了「<strong>最終目標只要能為一生的精神能量建立秩序，它本身是什麽並不重要。人生的意義就在於“尋求意義”：不論它的本質，不論它來自何處，只要找到一個統一的大方向，人生就會有意義。</strong>」，這時才隱隱約約明白，原來我根本不缺乏人生意義，我想要的是內心的平靜、內心的秩序，也就是作者所講的心流狀態。意義本身並不重要，每個人都可能有屬於自己的意義，但是在追求意義本身就會為自己生命賦予價值。</p>
<p>「心流」這個概念其實我很久以前就聽過了，一開始是從強者我朋友那裡得知，我原本以為這是一個用在學習的工具罷了，並不是很在意。最近因為有些我看的書籍有再次提到這個概念，才想說來看看當初提出這個概念的作者米哈里的原書。這本書最早是在1990出版，台灣也有出自己的翻譯本，應該是叫<a target="_blank" rel="noopener" href="http://www.books.com.tw/products/0010036164">快樂.從心開始</a> ，但也已經絕版了，而最近中國才重出了這本書。的確，如果 google 心流這個詞，十之八九是講我們在面對有一定挑戰性的事情時，進入了聚精會神的狀態，忘了時間的流動，只專注在當下。進入心流會創造最佳的體驗，會讓自己想要一再體驗，這也是很多學習的書籍鼓吹的學習方式。</p>
<p>如果把進入心流的條件和刻意練習相比，會發現兩著有很高的相似性。兩者都一樣需要有個明確的目標、有即時的反饋、需要全神貫注地投入、需要有適當的挑戰性(跨出舒適圈)。但是在本書的介紹序也有提到，兩者的動機是完全不同的，刻意練習是為了讓自己的能力獲得提升，是一種行為，而心流則是一種體驗，讓人沈醉且上癮。儘管如此，我個人的經驗是有意識進行刻意練習時，有時候也會有種進入心流的狀態，忘記時間，想要繼續做下去。雖然本質不同，但是兩者是可以相輔相成的。</p>
<p>為什麼進入心流會讓我們愉悅呢？書中有提到一個概念叫做精神熵，熵在物理的意義是亂度，越高代表越混亂。如果我們的精神熵越高，就代表我們的意識失去了秩序，受到了威脅，我們必須要去防衛，自然就會感到不快樂。心流的意義我會解釋成<strong>心靈的秩序</strong>，就像磁鐵要有磁性一定要被磁化，讓內部分子的南北極都同向，對外才會產生出一股磁力。當我們進入心流狀態也就是在內心建立起了秩序，不會被外界可能讓心靈混亂的事物打擾，因此才會有忘記自我，忘記時間的感覺。</p>
<p>以秩序來解釋為什麼會快不快樂似乎有其道理。米哈里提到了享樂和樂趣的差別：享樂是恢復均衡的體驗，主要是維持意識的秩序，但無法創造新秩序，樂趣需要高度注意力，完成意料之外的事情。因為樂趣的高複雜度、有挑戰性，所以不斷提供大腦新鮮感，這也是樂趣可以維持比較長久的快樂。另外值得一提的是，如果我們是為了什麼目的才做某件事情，可能就不有趣，就像我們不是為了得到勝利而玩遊戲，而是享受在玩遊戲的過程。因為如果有目的的話，我們就不是專心在當下遊戲規則所帶來的秩序了。遊戲規則主導了我們的心流，讓我們內心維持了秩序，所以有些人在使用外掛後很快就會對遊戲失去興趣的原因也是在秩序已經被破壞了，規則無法再帶給我們心靈秩序了。</p>
<p>米哈里不只是用心流來解釋我們進入專心的狀態，書中他更是嘗試用心流來解釋人類的社會、文化、甚至是遇到困境時要怎麼克服。這也是讓我眼界大開的一部份，原來心流也是可以用來解釋更高層次的現象。社會與文化說穿了其實也就是一種規則，一種秩序，在過去社會文化上的規範會規定我們的外在行為應該要怎麼做，有很多的限制，但是大多數人在成長過程中接受了這樣的限制，然後久而久之自己也成為要求他人遵守這些規則的人。然而在現在的世界，國際間的文化交流、網際網路的發達，拓展了每個人的視野，追求個人自由的風氣中屏棄掉了傳統文化，因此人們有更多選擇。但是更多選擇不代表會更快樂，因為會陷入了不知道要選什麼才好的狀態。這就跟我們父母一輩不會有用興趣選職業這件事，而是找個穩定收入的工作或繼承家業，沒有什麼其他選擇，而我們這代則會迷惘進大學時到底要選擇什麼樣的科系，未來要找什麼工作，到底自己對什麼有興趣。這個選擇越多越不快樂的現象正呼應了人失去了秩序後會不快樂的概念。</p>
<p>但是我個人覺得，這不代表我們要走回頭路，的確規範可以帶給大多數人秩序，但是並沒有道理要求所有人都遵守這樣的規範，自由與民主已經深入人心，難以逆轉。我們能做的是知道這個現象，然後清楚自己的迷惘是來自心靈的失序，接著透過不斷與外界的互動來重新建立自己的秩序，最後就會形塑出屬於個人的價值觀，也就是個人的生命意義。米哈里也建議，我們可以從宗教、歷史、文學等等過去前人所建立的秩序中吸取經驗，建立起屬於自己內心不被擾亂的模式，用前人的力量賦予自己生命新的意義。</p>
<p>本書帶給我很多新的觀念，特別是讓我重新認識了「心流」。在閱讀時，我得承認作者的敘述、排版方式有點冗長，比較沒有架構性，不過不妨礙本書的價值。另外我會推薦大家要看一下推薦序的部分，雖然我從來沒看過那麼長的推薦序，但是卻是一個很好的總結，書中大多數的精華都有被整理出來了。我們不只是要追求在學習上全神貫注的心流，更是要追求人生的心流，真正內心的秩序必須要上從人生觀下到自己的行為都達成一致，並且能心無旁騖專注在其中。如果要用一句話解釋我從這本書得到的觀念，我會這麼說：<strong>快樂與幸福來自我們內心的和諧，建立一個可以應付外界干擾的秩序，讓自己的外在行為與內心秩序一致，那就是在人生的心流之中了</strong>。</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://evshary.com/2018/04/15/%E3%80%8C%E8%AB%8B%E5%81%9C%E6%AD%A2%E7%84%A1%E6%95%88%E5%8A%AA%E5%8A%9B%E3%80%8D%E8%AE%80%E5%BE%8C%E6%84%9F/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="evshary">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="CY's Blog">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | CY's Blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2018/04/15/%E3%80%8C%E8%AB%8B%E5%81%9C%E6%AD%A2%E7%84%A1%E6%95%88%E5%8A%AA%E5%8A%9B%E3%80%8D%E8%AE%80%E5%BE%8C%E6%84%9F/" class="post-title-link" itemprop="url">「請停止無效努力」讀後感</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2018-04-15 20:34:20" itemprop="dateCreated datePublished" datetime="2018-04-15T20:34:20+00:00">2018-04-15</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2024-09-16 14:11:06" itemprop="dateModified" datetime="2024-09-16T14:11:06+00:00">2024-09-16</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E8%AE%80%E6%9B%B8%E5%BF%83%E5%BE%97/" itemprop="url" rel="index"><span itemprop="name">讀書心得</span></a>
        </span>
    </span>

  
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus: </span>
    
    <a title="disqus" href="/2018/04/15/%E3%80%8C%E8%AB%8B%E5%81%9C%E6%AD%A2%E7%84%A1%E6%95%88%E5%8A%AA%E5%8A%9B%E3%80%8D%E8%AE%80%E5%BE%8C%E6%84%9F/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2018/04/15/「請停止無效努力」讀後感/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>第一次看到這本書的原因是是跟朋友在逛書展時發現的，原本對書名並沒有什麼興趣，但是忽然瞄到作者是孫圈圈，馬上就有興致了。之前都會在她的公眾號發現不錯的文章，內容有條理，而且不會流於口號，都有如何實行的方法論。而這本書看完後的確是不負所望，內容很紮實，有把她做諮詢累積的經驗分享出來，我覺得非常適合初入職場的人閱讀。</p>
<p>本書大致上分為好幾個部分：挖掘天賦、如何學習、思維、溝通、職涯規劃、情緒等等，每個都有寫出作者的見解和方法論，這本書編排很好的地方是在每篇文章最後面都會有總結，以及可以怎麼做讀後練習，就像書中一開始所說，現在「道」和「器」的書太多了，但很多都沒有實作方法，所以她想要寫一篇關於「術」的文章。</p>
<p>簡單分享一下我在書中特別有感觸的觀念。挖掘天賦這塊作者列舉了各種職業定位並做簡單分析，並且合理推出天賦型的定位比較適合我們，然後再給出了挖掘自己天賦的方法。雖然我不認同作者說的每個人天生上就有各自的天賦，因為我覺得只要是硬體沒差很多(人的身體)，基本上差異都是後天學習造成的，但是作者在這邊有擴大天賦的定義，她認為意願也是種天賦，有些人可能因為家庭等後天學習因素而喜歡做什麼事、不喜歡做什麼事，這也算天賦的優勢。這個觀念我以前並沒有想過，不過想想也是很合理，理論上人透過一定正確的訓練應該能力不會差太多，但是如果有些人本身就不喜歡該領域，就更不可能去做正確的訓練了，因此能力上就會出現落差。</p>
<p>學習的部分並沒有提到什麼新東西，大概還是離不開刻意練習的概念，然而在思維和溝通的部分就有很多可以參考的點了。畢竟作者是做諮商的，所以這兩個領域都算是她的專業吧！思維的話可以分為結構化思維和創造性的思維，而這其中是有些方法論可以運用來思考的。像是結構化思維可以用常用的架構來輔助思考，或是透過歸納法從資訊找出有意義的內容等等。除了思維，定義問題也是其中一個很重要的因素，我們要清楚自己要解決什麼問題，而且不是所有問題都值得被解決。我以前常常都會想說每個遇到的事情都要全力去做，不這樣做的話就好像是沒有負責任，但是作者反駁這樣的想法，應該是要看CP值，高的才需要全力找最佳解，一般的就只要能處理掉即可。溝通部分則是描述有條理發表言論、與人找話題聊天的方法，這邊是我的弱項，應該可以再好好地吸收消化一下。</p>
<p>職涯規劃的部分有提到可以使用個人商業模式畫布，這個概念我在「<a target="_blank" rel="noopener" href="https://read.douban.com/ebook/7611058/">程序員跳槽全攻略</a>」看過，不過當初自己做職涯規劃只有幾年後要達到什麼目標，學到什麼能力之類，結果列完後還是沒有去做到，應該說連去回顧都沒有了。作者強調說我們做職涯規劃不該強調目標，而是要強調過程、實現的路徑是什麼，這樣的概念相對來說也比較踏實，不會只是空中畫大餅而已。書中最後情緒的部分有個概念讓我非常受用：<strong>面對所謂的性格缺陷，最佳策略不是對抗，而是找應對方式</strong>。我很清楚自己的弱點，包括不擅長社交、不喜歡在人多的地方、不喜歡引人注目，但是有時還是會想說要克服自己的缺陷，努力去改變。然而作者的說法是性格是我們的天性，需要花很多資源去改變，因此與其去改變，不如想想如何提高其他的能力來彌補這個缺陷。例如社交要做得好有很多因素，性格只是其中一項，我們可以強化其他因素來達到同樣結果。這個概念在前面的天賦也有提過，不要想著要彌補自己的弱點，而是將彌補劣勢的時間拿來強化自己的天賦，發揮他並且用其他能力彌補弱勢的部分。這個概念就如同巴菲特的<a target="_blank" rel="noopener" href="https://jamesclear.com/buffett-focus">雙目標清單系統(Two-List System)</a>一樣，集中資源在自己的目標、強項，不會變成樣樣通樣樣鬆。</p>
<p>本書的內容從我的角度來看，雖然還是有些自己並不是很認同或是覺得有邏輯不清的地方，但是這本書提供給我們一個可以去嘗試的方法，利用這個方法來嘗試改變自己，而我們可以基於這些方法開始思考要怎麼建立屬於自己的方法論，而不會遇到職業、人生的問題時總是滿頭霧水，不斷窮緊張。透過不斷參考、試錯，就可以找到更適合的方法來面對自己的人生。</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://evshary.com/2018/03/11/%E3%80%8C%E6%B7%B1%E5%BA%A6%E5%AD%B8%E7%BF%92%E7%9A%84%E6%8A%80%E8%A1%93%E3%80%8D%E8%AE%80%E5%BE%8C%E6%84%9F/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="evshary">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="CY's Blog">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | CY's Blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2018/03/11/%E3%80%8C%E6%B7%B1%E5%BA%A6%E5%AD%B8%E7%BF%92%E7%9A%84%E6%8A%80%E8%A1%93%E3%80%8D%E8%AE%80%E5%BE%8C%E6%84%9F/" class="post-title-link" itemprop="url">「深度學習的技術」讀後感</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2018-03-11 11:50:43" itemprop="dateCreated datePublished" datetime="2018-03-11T11:50:43+00:00">2018-03-11</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2024-09-16 14:11:06" itemprop="dateModified" datetime="2024-09-16T14:11:06+00:00">2024-09-16</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E8%AE%80%E6%9B%B8%E5%BF%83%E5%BE%97/" itemprop="url" rel="index"><span itemprop="name">讀書心得</span></a>
        </span>
    </span>

  
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus: </span>
    
    <a title="disqus" href="/2018/03/11/%E3%80%8C%E6%B7%B1%E5%BA%A6%E5%AD%B8%E7%BF%92%E7%9A%84%E6%8A%80%E8%A1%93%E3%80%8D%E8%AE%80%E5%BE%8C%E6%84%9F/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2018/03/11/「深度學習的技術」讀後感/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>會知道這本書是因為之前有在追蹤該作者的<a target="_blank" rel="noopener" href="https://4think.net/">部落格</a>，該部落格是分享作者看完書後的讀後心得，他看的書品質都算是很高，有時候我也都會參考他的書單、心得來決定是否要看這本書。後來作者把他看的書做一個總結，寫成一本關於學習的書，也就是這本<a target="_blank" rel="noopener" href="https://4think.net/%E3%80%8A%E6%B7%B1%E5%BA%A6%E5%AD%B8%E7%BF%92%E7%9A%84%E6%8A%80%E8%A1%93%E3%80%8B/">「深度學習的技術」</a>。原本是有點懶得買，因為並不是實體而且感覺轉帳什麼的很麻煩，不過在同事的勸誘下還是買了。從結論來說我覺得這本真的值得這個價錢，畢竟作者的論述很清晰、有條理，而且都有引用其他著名書籍內容，某種程度上也是集大成了，可以從作者的方法再進一步學習、研究出屬於自己的學習方式。</p>
<p>作者把整個學習過程分成五個階段：<strong>記、懂、網、拓、活</strong>。記是記憶的意思，講了幾個科學上實驗研究很有用的記憶方法，包括「提取練習效應」、「間隔效應」、「交錯效應」、「生產效應」、「變動效應」等等。但我從中學到的是<strong>記不是要強調記憶本身，而是要練習「提取記憶」這件事</strong>，所以這些方法都是訓練自己在不同情況下都能夠順利提取記憶，確保自己真的有記憶牢靠，所以也難怪背誦時只是不斷重複閱讀是效率極差，而透過各種提取，如講出來、寫出來、測驗等等記憶的效率會再高一點。這點我應該可以拿來在學習單字上試試做些驗證。</p>
<p>懂的部分就是要讓自己記憶力最大化，有幾個方式：相鄰可能(複利效應)、發散模式(利用散步等時間思考事情)、自然頻率(找適合人類的學習方式，如故事、思想實驗)、透徹程度(以教為學)、工作記憶(善用紙筆)。內容就不一一多提，但是我想最重要的是人類在演化上、構造上還是屬於生物，所以學習上還是有一定生理限制，這些就是讓我們可以用比較輕鬆的方式理解知識。</p>
<p>網則是強調知識的排列重要性，作者強調了碎片化學習不是不好，畢竟很多時候都只能利用零散的時間來學習，但是最重要的是我們需要把知識進行排列，因為往往知識的排列本身比起知識點是更為重要的。要構成知識網有兩個支柱，分別為知識排列以及刻意練習，知識排列算是我們對外顯知識(例如物理學、經濟學等理論)的人工佈線，透過佈線構成自己的知識架構，而刻意練習則是用在學習內隱知識(如開車、游泳等等難用文字描述的領域)，強化我們網狀架構的廣度、強度和密度。這邊不得不提<a target="_blank" rel="noopener" href="http://www.books.com.tw/products/0010752714">刻意練習</a>真的自從出版後就被各種提到，而且都是我覺得值得一看的好書，好的方法果然是會被其他好書不斷重複提起，這也驗證了重要知識是很容易在生活中重複出現的。</p>
<p>前面都在講怎麼學習，但是學習什麼也是很重要的。拓的部分在講知識是有品質的差別的，要如何辨別知識對自己的價值有三個方面：正確性(過濾機制)、多樣性(跨領域學習)、創造性(思想孵化器)。我認為正確性講的是人類總是有心理學上的弱點，而透過第二層思考就可以盡可能避免被錯誤的知識誤導。多樣性則提到了蒙格的多元思維模型，透過學習多個學科最重要的模型，破除學問間的壁壘，可以解決更多困難的問題。順帶一提，蒙格的<a target="_blank" rel="noopener" href="http://www.books.com.tw/products/0010643983">窮查理的普通常識</a>也是被各種推廣的好書，雖然內容並不是很有條理的方法論(比較多是演講形式)，但背後的思想可是備受推崇，之後可能也會想收藏一本當傳教用(誤)。最後的創造性則是強調透過寫作讓自己的思維可視化，並且促進更進一步的思考。</p>
<p>最後的「活」先提到了要時時注意一石多鳥，學習要用最有效率的方式學習，不論是閱讀還是做筆記都是，找到好的方法，並且使用它。而更重要的是學了知識就是要用，我很喜歡書中的這句話<strong>「知識就像是金錢一樣，不花就等於不曾有過」</strong>，作者建議使用知識的方法是開始屬於自己的個人項目，並且給了一些找到與實踐個人項目的方法和原則。我是很認同他的想法，畢竟我也常覺得看完書後好像就只是這樣，沒有真正改變了什麼。也許我也該從一個個人項目開始發揮我所學到的內容。</p>
<p>這本書原則上我非常地推薦，是值得一讀的好書。先不論書中方法對錯，光是作者把各個書的精華統整出自己的知識架構就已經值回票價了。當然，我不是完全認同書中的方法，但是我覺得書中的統整確確實實是改變我一些學習的方法。所以我的建議是<strong>不要完全照抄書中的方法，而是要善用作者的統整，建構出屬於自己的學習習慣</strong>，這樣才算是最大化利用這本書。</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://evshary.com/2018/01/03/HTTP-header-%E5%AE%89%E5%85%A8%E8%A8%AD%E5%AE%9A/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="evshary">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="CY's Blog">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | CY's Blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2018/01/03/HTTP-header-%E5%AE%89%E5%85%A8%E8%A8%AD%E5%AE%9A/" class="post-title-link" itemprop="url">HTTP header 安全設定</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2018-01-03 22:13:53" itemprop="dateCreated datePublished" datetime="2018-01-03T22:13:53+00:00">2018-01-03</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2024-09-16 14:11:06" itemprop="dateModified" datetime="2024-09-16T14:11:06+00:00">2024-09-16</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E6%8A%80%E8%A1%93/" itemprop="url" rel="index"><span itemprop="name">技術</span></a>
        </span>
    </span>

  
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus: </span>
    
    <a title="disqus" href="/2018/01/03/HTTP-header-%E5%AE%89%E5%85%A8%E8%A8%AD%E5%AE%9A/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2018/01/03/HTTP-header-安全設定/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="總覽"><a href="#總覽" class="headerlink" title="總覽"></a>總覽</h1><p>根據<a target="_blank" rel="noopener" href="https://devco.re/blog/2014/03/10/security-issues-of-http-headers-1/">DEVCORE</a>，相關HTTP header可以如下分類</p>
<ul>
<li>防禦 XSS：<ul>
<li>Content-Security-Policy</li>
<li>Set-Cookie: HttpOnly</li>
<li>X-XSS-Protection</li>
<li>X-Download-Options</li>
</ul>
</li>
<li>防禦 Clickjacking：<ul>
<li>X-Frame-Options</li>
</ul>
</li>
<li>強化 HTTPS 機制：<ul>
<li>Set-Cookie: Secure</li>
<li>Strict-Transport-Security</li>
</ul>
</li>
<li>避免瀏覽器誤判文件形態：<ul>
<li>X-Content-Type-Options</li>
</ul>
</li>
<li>保護網站資源別被任意存取：<ul>
<li>Access-Control-Allow-Origin</li>
<li>X-Permitted-Cross-Domain-Policies</li>
</ul>
</li>
</ul>
<h1 id="防禦-XSS"><a href="#防禦-XSS" class="headerlink" title="防禦 XSS"></a>防禦 XSS</h1><h2 id="Content-Security-Policy"><a href="#Content-Security-Policy" class="headerlink" title="Content-Security-Policy"></a>Content-Security-Policy</h2><ul>
<li>原理：<ul>
<li>用來控制不要讀取外部不可信賴資源，可以防止XSS或injection</li>
</ul>
</li>
<li>啟動方式：<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Content-Security-Policy: policy # policy代表描述你的CSP的策略</span><br></pre></td></tr></table></figure>
<ul>
<li>範例<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># 所有內容都來自同一個地方</span><br><span class="line">Content-Security-Policy: default-src &#x27;self&#x27;</span><br><span class="line"># 比較複雜的設定，不擋image來源，但是設定media和script的來源，注意後方設定會蓋掉default-src的設定</span><br><span class="line">Content-SecContent-Security-Policy: default-src &#x27;self&#x27;; img-src *; media-src media1.com media2.com; script-src userscripts.example.com</span><br><span class="line"># 推薦設定：因為預設會擋html裡有js,style，但是大部分都會用到，所以要加上unsafe-inline</span><br><span class="line">Content-Security-Policy: default-src &#x27;self&#x27; &#x27;unsafe-inline&#x27;</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li>可參考<ul>
<li><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/Security/CSP/Using_Content_Security_Policy">内容安全策略( CSP )</a>: 對CSP的基本解說</li>
<li><a target="_blank" rel="noopener" href="https://devco.re/blog/2014/04/08/security-issues-of-http-headers-2-content-security-policy/">Content-Security-Policy - HTTP Headers 的資安議題 (2)</a>: 對CSP非常詳細的解說，建議一定要看一下。</li>
</ul>
</li>
</ul>
<h2 id="Set-Cookie-HttpOnly"><a href="#Set-Cookie-HttpOnly" class="headerlink" title="Set-Cookie: HttpOnly"></a>Set-Cookie: HttpOnly</h2><ul>
<li>原理：<ul>
<li>http only確保javascript無法直接存取cookie。</li>
</ul>
</li>
<li>啟動方式：<ul>
<li>只要在Set-Cookie的header加上HttpOnly就可以生效了。</li>
</ul>
</li>
</ul>
<h2 id="X-XSS-Protection"><a href="#X-XSS-Protection" class="headerlink" title="X-XSS-Protection"></a>X-XSS-Protection</h2><ul>
<li>原理：<ul>
<li>這是IE引進的功能，可以檢查XSS攻擊，不過firefox不支援。基本上CSP已經提供足夠防禦，但是可以讓不支援CSP舊版瀏覽器有比較高的安全性。</li>
</ul>
</li>
<li>啟動方式：<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">X-XSS-Protection: 0   # 禁止XSS過濾</span><br><span class="line">X-XSS-Protection: 1   # 允許XSS過濾，遇到XSS會清除頁面</span><br><span class="line">X-XSS-Protection: 1; mode=block  # 允許XSS過濾，遇到XSS會阻擋頁面加載</span><br></pre></td></tr></table></figure></li>
<li>可參考：<ul>
<li><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Headers/X-XSS-Protection">mozilla X-XSS-Protection</a>: 詳細介紹這個header在哪些browser支援和有什麼選項</li>
<li><a target="_blank" rel="noopener" href="http://likewaylai.blogspot.tw/2012/03/javax-xss-protection.html">資安JAVA(十一)：X-XSS-Protection</a>: 這邊有提到X-XSS-Protection的由來，並且提到IE8之前在這個功能上的問題</li>
</ul>
</li>
</ul>
<h2 id="X-Download-Options"><a href="#X-Download-Options" class="headerlink" title="X-Download-Options"></a>X-Download-Options</h2><ul>
<li>原理：<ul>
<li>在IE8加入了這個選項，防止使用者下載檔案的時候點選直接開啟，避免執行執行了程式而且沒有在下載管理員留下紀錄的問題。</li>
</ul>
</li>
<li>啟動方式：<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">X-Download-Options: noopen</span><br></pre></td></tr></table></figure></li>
<li>可參考<ul>
<li><a target="_blank" rel="noopener" href="https://msdn.microsoft.com/zh-tw/library/jj542450(v=vs.85).aspx">Microsoft-自訂下載體驗</a>: 為什麼要有這個選項</li>
<li><a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/15299325/x-download-options-noopen-equivalent">X-Download-Options: noopen equivalent</a>: 其他browser沒有想對應功能</li>
</ul>
</li>
</ul>
<h1 id="防禦-Clickjacking"><a href="#防禦-Clickjacking" class="headerlink" title="防禦 Clickjacking"></a>防禦 Clickjacking</h1><h2 id="X-Frame-Options"><a href="#X-Frame-Options" class="headerlink" title="X-Frame-Options"></a>X-Frame-Options</h2><ul>
<li>原理：<ul>
<li>控制frame和iframe顯示頁面的規則，不讓別人可以內嵌頁面。</li>
</ul>
</li>
<li>啟動方式：<ul>
<li>在header加上X-Frame-Options: XXX，XXX可以是<ul>
<li>DENY：禁止frame頁面</li>
<li>SAMEORIGIN：允許frame顯示同一網站頁面</li>
<li>ALLOW-FROM url：允許frame顯示某一網站頁面<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">X-Frame-Options: SAMEORIGIN</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
</li>
</ul>
<h1 id="強化-HTTPS-機制"><a href="#強化-HTTPS-機制" class="headerlink" title="強化 HTTPS 機制"></a>強化 HTTPS 機制</h1><h2 id="Set-Cookie-Secure"><a href="#Set-Cookie-Secure" class="headerlink" title="Set-Cookie: Secure"></a>Set-Cookie: Secure</h2><ul>
<li>原理：<ul>
<li>強制讓cookie必須要在https的情況下才能傳輸</li>
</ul>
</li>
<li>啟動方式：<ul>
<li>只要在Set-Cookie的header加上Secure就可以生效了。</li>
</ul>
</li>
</ul>
<h2 id="Strict-Transport-Security"><a href="#Strict-Transport-Security" class="headerlink" title="Strict-Transport-Security"></a>Strict-Transport-Security</h2><ul>
<li>原理：<ul>
<li>當使用者用http連線，強制轉成https連線，這個選項只有在https連線的情況下才有用，如果是http會被忽略(因為可能有MITM)</li>
</ul>
</li>
<li>啟動方式：<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Strict-Transport-Security: max-age=expireTime [; includeSubdomains]</span><br><span class="line"># max-age=expireTime: browser要記住這個網站要用https連線的時間</span><br><span class="line"># includeSubdomains: 哪些subdomain也都要同樣設定</span><br></pre></td></tr></table></figure></li>
<li>可參考<ul>
<li><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Security/HTTP_Strict_Transport_Security">Mozilla HTTP Strict Transport Security</a>: 詳細介紹這個header在哪些browser支援和有什麼選項</li>
</ul>
</li>
</ul>
<h1 id="避免瀏覽器誤判文件形態"><a href="#避免瀏覽器誤判文件形態" class="headerlink" title="避免瀏覽器誤判文件形態"></a>避免瀏覽器誤判文件形態</h1><h2 id="X-Content-Type-Options"><a href="#X-Content-Type-Options" class="headerlink" title="X-Content-Type-Options"></a>X-Content-Type-Options</h2><ul>
<li>原理：<ul>
<li>告訴client要遵守Content-Type的MIME設定，不要自行偵測，管理者必須要確保自己的設定是沒有錯誤的。</li>
</ul>
</li>
<li>啟動方式：<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">X-Content-Type-Options：nosniff</span><br></pre></td></tr></table></figure></li>
<li>可參考<ul>
<li><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Headers/X-Content-Type-Options">Mozilla X-Content-Type-Options</a>: 詳細介紹這個header在哪些browser支援和有什麼選項</li>
</ul>
</li>
</ul>
<h1 id="保護網站資源別被任意存取"><a href="#保護網站資源別被任意存取" class="headerlink" title="保護網站資源別被任意存取"></a>保護網站資源別被任意存取</h1><h2 id="Access-Control-Allow-Origin"><a href="#Access-Control-Allow-Origin" class="headerlink" title="Access-Control-Allow-Origin"></a>Access-Control-Allow-Origin</h2><ul>
<li>原理：<ul>
<li>CORS是用來解決腳本的跨域資源請求問題，用來確保資源是否可以被其他網站存取，但是要注意它不能阻擋CSRF</li>
<li>不能阻擋CSRF的原因：<ul>
<li>CORS是阻擋js所發出的request，但是CSRF可以透過form, tag等發起請求</li>
<li>Acess-Control-Allow-Origin是由browser解析的，所以其實request已經發出了，只是response被browser阻擋</li>
</ul>
</li>
</ul>
</li>
<li>啟動方式：<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Access-Control-Allow-Origin: *</span><br><span class="line">Access-Control-Allow-Origin: &lt;origin&gt;</span><br></pre></td></tr></table></figure></li>
<li>可參考<ul>
<li><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Headers/Access-Control-Allow-Origin">Mozilla Access-Control-Allow-Origin</a>: 詳細介紹這個header的選項</li>
<li><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-TW/docs/Web/HTTP/CORS">跨來源資源共享（CORS）</a>:詳細解釋CORS(Cross-Origin Resource Sharing)的功能</li>
<li><a target="_blank" rel="noopener" href="https://blog.toright.com/posts/3205/%E5%AF%A6%E4%BD%9C-cross-origin-resource-sharing-cros-%E8%A7%A3%E6%B1%BA-ajax-%E7%99%BC%E9%80%81%E8%B7%A8%E7%B6%B2%E5%9F%9F%E5%AD%98%E5%8F%96-request.html">實作 Cross-Origin Resource Sharing (CORS) 解決 Ajax 發送跨網域存取 Request</a>: 如何用CORS存取外部資源</li>
<li><a target="_blank" rel="noopener" href="https://b1ngz.github.io/csrf-and-cors/">简单聊一聊 CSRF 与 CORS 的关系:</a> CORS並不能防禦CSRF，這篇有很詳細的介紹</li>
</ul>
</li>
</ul>
<h2 id="X-Permitted-Cross-Domain-Policies"><a href="#X-Permitted-Cross-Domain-Policies" class="headerlink" title="X-Permitted-Cross-Domain-Policies"></a>X-Permitted-Cross-Domain-Policies</h2><ul>
<li>原理：<ul>
<li>當不能把crossdomain.xml放在根目錄時需要設定該選項</li>
<li>crossdomain.xml: 從別的domain讀取flash時所需要的策略文件</li>
</ul>
</li>
<li>啟動方式：<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">X-Permitted-Cross-Domain-Policies: master-only # master-only代表只允許主策略文件(/crossdomain.xml)</span><br></pre></td></tr></table></figure></li>
<li>可參考<ul>
<li><a target="_blank" rel="noopener" href="http://blog.xuite.net/fireworkgoldfish/CodeIndex/27179479-Cross+Domain+Policy">Cross Domain Policy</a>: 提到關於crossdomain.xml的設定</li>
<li><a target="_blank" rel="noopener" href="http://blog.csdn.net/summerhust/article/details/7721627">关于跨域策略文件crossdomain.xml文件</a>: crossdomain.xml的範例</li>
<li><a target="_blank" rel="noopener" href="https://toutiao.io/posts/218856/app_preview">如何使用 HTTP 响应头字段来提高 Web 安全性？</a>: X-Permitted-Cross-Domain-Policies相關解說</li>
</ul>
</li>
</ul>
<h1 id="參考"><a href="#參考" class="headerlink" title="參考"></a>參考</h1><ul>
<li><a target="_blank" rel="noopener" href="http://www.qa-knowhow.com/?p=1467">11個網站安全防護的 http Header 設定</a>: 其他人提到的header設定</li>
</ul>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://evshary.com/2017/11/11/%E5%B8%B8%E7%94%A8%E8%BB%9F%E9%AB%94%E5%B7%A5%E5%85%B7%E7%B5%B1%E6%95%B4/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="evshary">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="CY's Blog">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | CY's Blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2017/11/11/%E5%B8%B8%E7%94%A8%E8%BB%9F%E9%AB%94%E5%B7%A5%E5%85%B7%E7%B5%B1%E6%95%B4/" class="post-title-link" itemprop="url">常用軟體工具統整</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2017-11-11 14:41:57" itemprop="dateCreated datePublished" datetime="2017-11-11T14:41:57+00:00">2017-11-11</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2024-09-16 14:11:06" itemprop="dateModified" datetime="2024-09-16T14:11:06+00:00">2024-09-16</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E6%8A%80%E8%A1%93/" itemprop="url" rel="index"><span itemprop="name">技術</span></a>
        </span>
    </span>

  
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus: </span>
    
    <a title="disqus" href="/2017/11/11/%E5%B8%B8%E7%94%A8%E8%BB%9F%E9%AB%94%E5%B7%A5%E5%85%B7%E7%B5%B1%E6%95%B4/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2017/11/11/常用軟體工具統整/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="文件"><a href="#文件" class="headerlink" title="文件"></a>文件</h1><h2 id="開啟docx-pttx-xlsx"><a href="#開啟docx-pttx-xlsx" class="headerlink" title="開啟docx, pttx, xlsx"></a>開啟docx, pttx, xlsx</h2><ul>
<li>Office(word, excel, powerpoint, visio)：Windows和MAC上還是用就微軟的工具比較方便。</li>
<li>LibreOffice：Linux上的話可以用這個，但是其實我是不推薦在Linux上做類似的事。</li>
</ul>
<h2 id="開啟pdf"><a href="#開啟pdf" class="headerlink" title="開啟pdf"></a>開啟pdf</h2><ul>
<li>Foxit：適用於Windows、Linux，可用來取代Adobe Reader來看pdf檔案。</li>
<li>MAC的話其實用預設的預覽程式就足夠了。</li>
</ul>
<h2 id="筆記"><a href="#筆記" class="headerlink" title="筆記"></a>筆記</h2><p>下方筆記軟體都是可以跨平台的</p>
<ul>
<li>QOwnNotes：支援Markdown、tags和資料夾的筆記軟體，我會搭配dropbox來進行同步，可參考<a target="_blank" rel="noopener" href="http://www.qownnotes.org/">官網</a></li>
<li>evernote：最常見的筆記軟體，但是不支援完整Markdown，我只用來記雜事用。</li>
<li>GitBook：之前有用這個來做筆記，但是反應速度有點慢，不推薦。</li>
</ul>
<h2 id="特殊文件"><a href="#特殊文件" class="headerlink" title="特殊文件"></a>特殊文件</h2><ul>
<li>texmaker: 專門處理Latex的工具</li>
<li>Poedit: 專門處理po的工具</li>
</ul>
<h1 id="網路功能"><a href="#網路功能" class="headerlink" title="網路功能"></a>網路功能</h1><h2 id="browser"><a href="#browser" class="headerlink" title="browser"></a>browser</h2><ul>
<li>Chrome</li>
<li>Firefox</li>
</ul>
<h2 id="檔案交換"><a href="#檔案交換" class="headerlink" title="檔案交換"></a>檔案交換</h2><ul>
<li>Dropbox：支援跨平台</li>
</ul>
<h2 id="FTP-client"><a href="#FTP-client" class="headerlink" title="FTP client"></a>FTP client</h2><ul>
<li>FileZilla FTP：支援跨平台。</li>
</ul>
<h2 id="遠端連線"><a href="#遠端連線" class="headerlink" title="遠端連線"></a>遠端連線</h2><ul>
<li>TeamViewer：支援跨平台。</li>
</ul>
<h2 id="ssh-client"><a href="#ssh-client" class="headerlink" title="ssh client"></a>ssh client</h2><p>下面只介紹Windows的部分，因為Linux和MAC都可以用ssh或scp指令連線</p>
<ul>
<li>putty(MTPutty)</li>
<li>pietty：支援Big5的putty版本</li>
<li>winscp：如果要用ssh來取得檔案用這個很方便。</li>
</ul>
<h2 id="VPN"><a href="#VPN" class="headerlink" title="VPN"></a>VPN</h2><ul>
<li>FortiClient SSL VPN：我只用過這個，而且還是舊版的，我記得是每個OS都可以使用，未來可以再研究看看。</li>
</ul>
<h2 id="TFTP"><a href="#TFTP" class="headerlink" title="TFTP"></a>TFTP</h2><p>只支援Windows，如果是Linux和MAC是可以用command line下載TFTP。</p>
<ul>
<li>Tftpd32：如果要自架TFTP Server的好工具，可參考<a target="_blank" rel="noopener" href="http://tftpd32.jounin.net/">官網</a></li>
</ul>
<h1 id="社交軟體"><a href="#社交軟體" class="headerlink" title="社交軟體"></a>社交軟體</h1><ul>
<li>Skype</li>
<li>LINE</li>
<li>Telegram</li>
</ul>
<h1 id="程式"><a href="#程式" class="headerlink" title="程式"></a>程式</h1><h2 id="文字編輯器"><a href="#文字編輯器" class="headerlink" title="文字編輯器"></a>文字編輯器</h2><p>一樣只介紹Windows，其他平台建議直接用vim</p>
<ul>
<li>notepad++：非常輕量級的文字編輯器，非常好用。</li>
<li>gvim：Windows上的vim，但是有時候並不是那麼好用。</li>
</ul>
<h2 id="git"><a href="#git" class="headerlink" title="git"></a>git</h2><p>其他平台我是都用command line，但是也許可以再找找有沒有好的圖形化介面</p>
<ul>
<li>Git &#x2F; Tortoise Git：用來追蹤code必備工具</li>
</ul>
<h2 id="虛擬化"><a href="#虛擬化" class="headerlink" title="虛擬化"></a>虛擬化</h2><ul>
<li>VirtualBox：跟其他虛擬機的差異是他是Open Source，但是穩定度比起來還是有差。</li>
<li>Docker：我是比較少用，但是用的對的話，其實是個好工具。</li>
<li>qemu：當沒有開發板的時候挺好用的</li>
</ul>
<h2 id="interpreter"><a href="#interpreter" class="headerlink" title="interpreter"></a>interpreter</h2><ul>
<li>Python：可以用來執行我們寫的簡單小程式。</li>
</ul>
<h2 id="compiler"><a href="#compiler" class="headerlink" title="compiler"></a>compiler</h2><ul>
<li>CodeBlock：要測試code可以在上面compile看看，但是不夠輕量，有時候不如開Linux虛擬機測試比較快。</li>
<li>gcc：MAC和Linux。</li>
</ul>
<h2 id="Editor"><a href="#Editor" class="headerlink" title="Editor"></a>Editor</h2><ul>
<li>vscode：好用的編輯器，而且跨平台，支援許多套件，但是對C&#x2F;C++的支援比較低。</li>
</ul>
<h2 id="debug工具"><a href="#debug工具" class="headerlink" title="debug工具"></a>debug工具</h2><ul>
<li>Wireshark：抓封包專用，三個平台都適用。</li>
</ul>
<p>以下都是Windows上的工具，還沒找到其他平台的版本</p>
<ul>
<li>iReasoning：可以用來做SNMP query。</li>
<li>HxD：看檔案的二進位。</li>
<li>WinMerge：比對code專用。</li>
<li>Colasoft Packet Builder: 修改pcap</li>
<li>Colasoft Packet Player: 重放packet</li>
</ul>
<h1 id="影音"><a href="#影音" class="headerlink" title="影音"></a>影音</h1><h2 id="播放音樂"><a href="#播放音樂" class="headerlink" title="播放音樂"></a>播放音樂</h2><ul>
<li>iTunes：適用Windows和MAC，播放、整理音樂的工具。</li>
</ul>
<h2 id="影片"><a href="#影片" class="headerlink" title="影片"></a>影片</h2><ul>
<li>SMPlayer：適用於Windows和Linux的播放器</li>
<li>IINA：適用於MAC。</li>
</ul>
<h2 id="剪輯影片"><a href="#剪輯影片" class="headerlink" title="剪輯影片"></a>剪輯影片</h2><ul>
<li>威力導演：剪影片專用，適用於MAC</li>
</ul>
<h2 id="燒錄"><a href="#燒錄" class="headerlink" title="燒錄"></a>燒錄</h2><p>目前找到的都只適合Windows</p>
<ul>
<li>Free Make Vedio Converter：燒DVD專用。</li>
<li>burnaware：可以燒iso和音樂CD。</li>
<li>DVDFab Virtual Drive：模擬虛擬光碟機。</li>
</ul>
<h2 id="轉檔"><a href="#轉檔" class="headerlink" title="轉檔"></a>轉檔</h2><ul>
<li>格式工廠：如果要轉檔的話非常好用。</li>
</ul>
<h1 id="系統"><a href="#系統" class="headerlink" title="系統"></a>系統</h1><h2 id="套件管理"><a href="#套件管理" class="headerlink" title="套件管理"></a>套件管理</h2><ul>
<li>Linux就隨Distro而有不同</li>
<li>MAC的話可用homebrew<ul>
<li>brew的使用方法如下  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"># 更新list</span><br><span class="line">brew update</span><br><span class="line"># 找套件</span><br><span class="line">brew search [套件名]</span><br><span class="line"># 檢查哪些套件過時</span><br><span class="line">brew outdated</span><br><span class="line"># 更新套件</span><br><span class="line">brew upgrade</span><br><span class="line"># 清除cache</span><br><span class="line">brew cleanup</span><br><span class="line"># 找官網</span><br><span class="line">brew home</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
<h2 id="優化電腦"><a href="#優化電腦" class="headerlink" title="優化電腦"></a>優化電腦</h2><ul>
<li>WiseCare 365：適合Windows</li>
<li>Magican、AppCleaner：適合MAC</li>
</ul>
<h2 id="監控系統狀態"><a href="#監控系統狀態" class="headerlink" title="監控系統狀態"></a>監控系統狀態</h2><ul>
<li>CrystalDiskInfo：監控硬碟狀態，適合Windows</li>
<li>smartd：Linux可用這套軟體看硬碟狀態。</li>
<li>menumeter：看系統整體資訊的付費軟體，適用MAC。</li>
</ul>
<h2 id="解壓縮工具"><a href="#解壓縮工具" class="headerlink" title="解壓縮工具"></a>解壓縮工具</h2><ul>
<li>7-zip：適合Windows</li>
<li>The Unarchiver：解壓縮工具，適用MAC</li>
<li>CleanArchiver：壓縮工具，適用MAC</li>
</ul>
<h2 id="連接手機"><a href="#連接手機" class="headerlink" title="連接手機"></a>連接手機</h2><ul>
<li>Android File Transfer：在MAC上如果要連android手機必備</li>
</ul>
<h1 id="CLI-tools"><a href="#CLI-tools" class="headerlink" title="CLI tools"></a>CLI tools</h1><p>MAC可以用iterm取代原來terminal</p>
<h2 id="Editor-1"><a href="#Editor-1" class="headerlink" title="Editor"></a>Editor</h2><ul>
<li>vim</li>
</ul>
<h2 id="shell"><a href="#shell" class="headerlink" title="shell"></a>shell</h2><ul>
<li>zsh</li>
<li>tmux</li>
<li>mosh：可以保持連線不要斷掉，當網路一旦恢復就會馬上連回去。</li>
</ul>
<h2 id="version"><a href="#version" class="headerlink" title="version"></a>version</h2><ul>
<li>git</li>
<li>tig</li>
</ul>
<h2 id="program"><a href="#program" class="headerlink" title="program"></a>program</h2><ul>
<li>ipython</li>
<li>irb</li>
<li>silversearcher-ag：找字串</li>
<li>cloc：算程式碼數量</li>
<li>ctags</li>
<li>astyle：coding style工具</li>
</ul>
<h2 id="system"><a href="#system" class="headerlink" title="system"></a>system</h2><ul>
<li>lynis: 檢查系統安全性<ul>
<li>使用方式<code>lynis -c</code></li>
</ul>
</li>
<li>smartmontools：讀取硬碟資訊</li>
<li>mtr：看網路狀態，ping和traceroute的結合</li>
<li>tree：可以列出目錄</li>
<li>htop、iotop、iftop：各類的top</li>
<li>httpie：command是http</li>
<li>ncdu：加強版的du</li>
<li>tldr：簡化版的man</li>
<li>trash-cli：trash-list, trash-rm, trash-put, trash-empty, restore-trash</li>
<li>fd：更簡單的find</li>
</ul>
<h2 id="hacker"><a href="#hacker" class="headerlink" title="hacker"></a>hacker</h2><ul>
<li>nmap：掃描網路上的機器</li>
<li>hydra：暴力破解的軟體</li>
<li>openssl：加解密工具</li>
<li>sqlmap：SQL injection工具</li>
</ul>
<h2 id="others"><a href="#others" class="headerlink" title="others"></a>others</h2><ul>
<li>qpdf：對pdf檔做一些操作</li>
<li><a target="_blank" rel="noopener" href="https://evshary.github.io/2018/12/02/gnuplot%EF%BC%9A%E5%A0%B1%E5%91%8A%E5%BF%85%E5%82%99%E7%9A%84%E7%B9%AA%E5%9C%96%E5%B7%A5%E5%85%B7/">gnuplot</a>：畫圖的工具</li>
<li><a target="_blank" rel="noopener" href="https://evshary.github.io/2018/11/25/youtube-dl%E7%B6%B2%E8%B7%AF%E5%BD%B1%E7%89%87%E4%B8%8B%E8%BC%89%E5%99%A8/">youtube-dl</a>：下載youtube<ul>
<li>使用方式youtube-dl -F [URL]：看有哪些格式</li>
<li>youtube-dl -f 136&#x2F;mp4 [URL]：選擇格式下載</li>
</ul>
</li>
<li><a target="_blank" rel="noopener" href="https://evshary.github.io/2018/12/01/ffmpeg%E5%BD%B1%E9%9F%B3%E8%99%95%E7%90%86%E5%B7%A5%E5%85%B7/">ffmepg</a>：轉換影片檔</li>
<li><a target="_blank" rel="noopener" href="https://evshary.github.io/2018/10/14/GnuPG%E6%95%99%E5%AD%B8/">GPG</a>：認證工具</li>
<li>irssi：IRC工具</li>
</ul>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://evshary.com/2017/09/09/hexo%E6%95%99%E5%AD%B8/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="evshary">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="CY's Blog">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | CY's Blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2017/09/09/hexo%E6%95%99%E5%AD%B8/" class="post-title-link" itemprop="url">hexo 教學</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2017-09-09 15:22:14" itemprop="dateCreated datePublished" datetime="2017-09-09T15:22:14+00:00">2017-09-09</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2024-09-16 14:11:06" itemprop="dateModified" datetime="2024-09-16T14:11:06+00:00">2024-09-16</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E6%8A%80%E8%A1%93/" itemprop="url" rel="index"><span itemprop="name">技術</span></a>
        </span>
    </span>

  
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus: </span>
    
    <a title="disqus" href="/2017/09/09/hexo%E6%95%99%E5%AD%B8/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2017/09/09/hexo教學/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>我之前一直想要自己寫 blog，可以留下些記錄，但是一方面不想要自己架 server，管理有點麻煩。另一方面又希望可以有 markdown 的功能，而這是 Google 的 blogger 所欠缺的，後來發現可以使用 hexo+Github 架設自己的 blog，對我而言是最佳選擇。Github 讓我不用自己架 server，hexo 讓我可以快速有個漂亮的介面，而且還可以用 markdown 來寫 blog。</p>
<h2 id="第一次安裝"><a href="#第一次安裝" class="headerlink" title="第一次安裝"></a>第一次安裝</h2><p>這邊一開始要先安裝好 git 和 npm，兩者的使用就不在這邊多提了。</p>
<ol>
<li><p>先在 GitHub 上創立一個新的 repo，像我的話就是 <code>evshary.github.io</code></p>
</li>
<li><p>clone 下來並且創立 main 和 source 兩個 branch，這兩個 branch 分別有不同用途，main 用來放顯示的網頁，source 用來放產生網頁的原始檔</p>
</li>
<li><p>首先先切到 source 的 branch，然後開始安裝 hexo (當然要先裝好 npm)</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 安裝 hexo command line tool</span></span><br><span class="line">npm install -g hexo-cli</span><br><span class="line"><span class="comment"># 安裝 deployer</span></span><br><span class="line">npm install hexo-deployer-git --save</span><br><span class="line"><span class="comment"># 初始化</span></span><br><span class="line">hexo init</span><br><span class="line">npm install</span><br></pre></td></tr></table></figure>
</li>
<li><p>修改 <code>_config.yml</code> 的 deploy 參數，branch 改為 main，這個代表的意思是我們會把產生的網頁放到 main 這個 branch 上</p>
</li>
<li><p>執行 <code>hexo g</code> 來產生顯示的網頁</p>
</li>
<li><p>當我們修改好 blog，就可以把 source 的 branch commit 並且 push 上 GitHub</p>
</li>
<li><p>最後執行 <code>hexo d</code> 就可以上傳網頁了，這個動作代表著把 main push 上 GitHub</p>
</li>
<li><p>未來的使用都是在 source 的 branch 下 commit 並 push，然後才用<code>hexo d</code> 上傳</p>
</li>
</ol>
<p>備註：<code>hexo d</code>的上傳可以用 GitHub Action 取代，只要 source branch 有更新，就會自動在 main branch 產生 blog 結果。相關設定可以參考<a target="_blank" rel="noopener" href="https://github.com/evshary/evshary.github.io/blob/source/.github/workflows/deploy.yaml">這邊的範例</a></p>
<h2 id="重裝"><a href="#重裝" class="headerlink" title="重裝"></a>重裝</h2><p>未來要在新電腦重建環境就不用像第一次那麼麻煩了</p>
<ol>
<li><p>首先在新電腦把 blog 的 repo clone 下來並切到 source 的 branch，如下面指令</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> -b <span class="built_in">source</span> git@github.com:[你的github帳號]/[repo名稱].git</span><br></pre></td></tr></table></figure>
</li>
<li><p>重新安裝相依套件，然後就可以直接開始使用了</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm install -g hexo-cli</span><br><span class="line">npm install</span><br></pre></td></tr></table></figure></li>
</ol>
<h2 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h2><ul>
<li><p>建立新文章<br>一開始最重要的事怎麼建立新文章</p>
 <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo n <span class="string">&quot;文章主題&quot;</span></span><br></pre></td></tr></table></figure>

<p>這時候會在<code>source/_posts/</code>底下新增一個md檔案，打開它就可以開始寫blog了</p>
</li>
<li><p>根據 markdown 產生 html 頁面</p>
 <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo g</span><br></pre></td></tr></table></figure>

<p>產生結果會在 <code>public</code> 資料夾下</p>
</li>
<li><p>local 端預覽<br>寫完之後的當然要產生頁面來看自己寫的如何，下面這個指令可以建立測試的 server</p>
 <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo s</span><br></pre></td></tr></table></figure>

<p>這時候開瀏覽器連線 <code>http://localhost:4000</code> 應該就可以連上</p>
</li>
<li><p>push 到 GitHub 上</p>
 <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo d</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="主題"><a href="#主題" class="headerlink" title="主題"></a>主題</h2><p>使用 hexo 當然最重要的是漂亮的主題囉，hexo 的 GitHub 上已經有提供許多主題推薦，可以參考 <a target="_blank" rel="noopener" href="https://github.com/hexojs/hexo/wiki/Themes">Themes</a>。不過我個人覺得 <a target="_blank" rel="noopener" href="https://github.com/theme-next/hexo-theme-next">theme-next&#x2F;hexo-theme-next</a> 比較好看，所以就用這個了。</p>
<p><a target="_blank" rel="noopener" href="https://theme-next.js.org/docs/getting-started/installation">官網推薦的安裝方法有兩種</a> ，一個是用 npm，另一個是直接 clone repo，為了方便未來升級管理，這邊使用 npm 的方式</p>
<ol>
<li><p>用 npm 下載 hexo-theme-next，套件會出現在 node_modules 中</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-theme-next@latest</span><br></pre></td></tr></table></figure>
</li>
<li><p>設定檔的部份會先找當前目錄下的 <code>_config.next.yml</code>，所以我們先複製一份設定檔出來</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cp</span> node_modules/hexo-theme-next/_config.yml _config.next.yml</span><br></pre></td></tr></table></figure>
</li>
<li><p>接著在 hexo 的設定檔 <code>_config.yml</code> 修改 theme 關鍵字，也就是剛剛命名的 next，這樣就順利完成了</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">theme: next</span><br></pre></td></tr></table></figure></li>
</ol>
<h2 id="設定檔"><a href="#設定檔" class="headerlink" title="設定檔"></a>設定檔</h2><p>主要會修改到的設定檔有兩個：</p>
<ul>
<li>hexo: 位於 <code>_config.yml</code><ul>
<li><a target="_blank" rel="noopener" href="https://hexo.io/docs/configuration">hexo 官方設定教學</a></li>
</ul>
</li>
<li>hexo-theme-next: <code>_config.next.yml</code><ul>
<li><a target="_blank" rel="noopener" href="https://theme-next.js.org/docs/getting-started/configuration.html">hexo-theme-next 官方教學</a></li>
</ul>
</li>
</ul>
<h2 id="套件"><a href="#套件" class="headerlink" title="套件"></a>套件</h2><p>當然 hexo 提供很多套件，我目前用到的是下面這兩個</p>
<h3 id="google-analytics"><a href="#google-analytics" class="headerlink" title="google analytics"></a>google analytics</h3><p>可參考 <a target="_blank" rel="noopener" href="https://blog.marsen.me/2016/08/25/add_google_analytics_to_hexo_blog_1/">如何讓google analytics追踪你的Hexo Blog</a><br>使用方法很簡單，這個功能在 theme 中已經內建，只要開啟即可</p>
<ol>
<li><p>先打開 <code>_config.next.yml</code></p>
</li>
<li><p>找到下列字串</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">google_analytics:</span></span><br><span class="line">  <span class="attr">tracking_id:</span></span><br></pre></td></tr></table></figure>

<p>在 tracking_id 後面填上自己申請的 google analytics ID 就可以了。</p>
</li>
</ol>
<h3 id="Disqus的留言板功能"><a href="#Disqus的留言板功能" class="headerlink" title="Disqus的留言板功能"></a>Disqus的留言板功能</h3><p>可參考 <a target="_blank" rel="noopener" href="https://blog.ivanwei.co/2016/01/03/2016-01-03-add-disqus-to-blog-by-hexo/">[Hexo] 加入 Disqus 讓 Blog多個留言功能</a><br>部署在 GitHub 的 hexo 沒有讓訪客留言的功能，所以這時候就需要第三方的整合型留言板 Disqus 了<br>這個也是跟 theme 綁一起的</p>
<ol>
<li><p>開啟 <code>_config.next.yml</code></p>
</li>
<li><p>找到下列字串</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">disqus:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">shortname:</span> <span class="string">evshary</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>確認 enable 為 true，然後在 shortname 填上自己在Disquz註冊的short name就可以囉！</p>
</li>
</ol>
<h3 id="LocalSearch-的搜尋功能"><a href="#LocalSearch-的搜尋功能" class="headerlink" title="LocalSearch 的搜尋功能"></a>LocalSearch 的搜尋功能</h3><p>我們如果要 blog 支援搜尋功能，可參考 <a target="_blank" rel="noopener" href="https://www.itfanr.cc/2017/10/27/add-search-function-to-hexo-blog/">Hexo博客添加搜索功能</a> ，下面列出應該要做的步驟</p>
<ol>
<li><p>首先要安裝 <code>hexo-generator-searchdb</code> 套件</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-generator-searchdb --save</span><br></pre></td></tr></table></figure>
</li>
<li><p>接著在 <code>_config.yml</code> 新增如下設定</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Search</span></span><br><span class="line"><span class="attr">search:</span></span><br><span class="line">  <span class="attr">path:</span> <span class="string">search.xml</span></span><br><span class="line">  <span class="attr">field:</span> <span class="string">post</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>開啟<code>_config.next.yml</code>，修改 enable 設定</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Local search</span></span><br><span class="line"><span class="attr">local_search:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>最後重新生成啟動即可</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">hexo clean</span><br><span class="line">hexo s -g</span><br></pre></td></tr></table></figure></li>
</ol>
<h4 id="如果搜尋功能不斷轉圈圈"><a href="#如果搜尋功能不斷轉圈圈" class="headerlink" title="如果搜尋功能不斷轉圈圈"></a>如果搜尋功能不斷轉圈圈</h4><p>通常會有一種情況搜尋功能會有問題，就是產生的search.xml有文字編碼錯誤</p>
<ol>
<li>先檢查 search.xml 的語法，可使用 <a target="_blank" rel="noopener" href="https://www.xmlvalidation.com/">Validate an XML file</a> 這個線上網站</li>
<li>網站會告訴你哪邊有錯誤的編碼，可以直接進去修改</li>
<li>如果使用 vscode 的話可以從設定啟動 renderControlCharacters，就會顯示錯誤的字元了</li>
<li>如果有必要可以直接把該字元複製並且使用全域搜尋並修正(因為我們沒辦法打出該字元)</li>
</ol>
<p>詳情可參考 <a target="_blank" rel="noopener" href="https://guahsu.io/2017/12/Hexo-Next-LocalSearch-cant-work/">HEXO-NexT的Local Search轉圈圈問題</a></p>
<h3 id="RSS"><a href="#RSS" class="headerlink" title="RSS"></a>RSS</h3><p>如果要在 hexo 上加上 RSS 訂閱，需要使用 hexo-generator-feed 套件</p>
<ol>
<li><p>先安裝 hexo-generator-feed</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-generator-feed --save</span><br></pre></td></tr></table></figure>
</li>
<li><p>在 <code>_config.yml</code> 內加上如下內容</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># RSS</span></span><br><span class="line"><span class="attr">feed:</span></span><br><span class="line">  <span class="attr">type:</span> <span class="string">atom</span></span><br><span class="line">  <span class="attr">path:</span> <span class="string">atom.xml</span></span><br><span class="line">  <span class="attr">limit:</span> <span class="number">10</span></span><br><span class="line">  <span class="attr">hub:</span></span><br><span class="line">  <span class="attr">content:</span></span><br><span class="line">  <span class="attr">content_limit:</span></span><br><span class="line">  <span class="attr">content_limit_delim:</span> <span class="string">&#x27; &#x27;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>最後重新生成啟動即可</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">hexo g</span><br><span class="line">hexo s</span><br></pre></td></tr></table></figure></li>
</ol>
<p>可參考 <a target="_blank" rel="noopener" href="https://segmentfault.com/a/1190000012647294">为hexo博客添加RSS订阅功能</a></p>
<h2 id="增加-live2d"><a href="#增加-live2d" class="headerlink" title="增加 live2d"></a>增加 live2d</h2><ol>
<li><p>先安裝必要的 npm 包</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-helper-live2d --save</span><br><span class="line">npm install live2d-widget-model-shizuku --save</span><br></pre></td></tr></table></figure>
</li>
<li><p>設定 <code>_config.yml</code></p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># live2d</span></span><br><span class="line"><span class="comment"># https://github.com/EYHN/hexo-helper-live2d</span></span><br><span class="line"><span class="attr">live2d:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">scriptFrom:</span> <span class="string">local</span></span><br><span class="line">  <span class="attr">pluginRootPath:</span> <span class="string">live2dw/</span></span><br><span class="line">  <span class="attr">pluginJsPath:</span> <span class="string">lib/</span></span><br><span class="line">  <span class="attr">pluginModelPath:</span> <span class="string">assets/</span></span><br><span class="line">  <span class="attr">tagMode:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">debug:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">model:</span></span><br><span class="line">    <span class="attr">use:</span> <span class="string">live2d-widget-model-shizuku</span></span><br><span class="line">  <span class="attr">display:</span></span><br><span class="line">    <span class="attr">position:</span> <span class="string">left</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>最後重新生成啟動即可</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">hexo g</span><br><span class="line">hexo s</span><br></pre></td></tr></table></figure></li>
</ol>
<p>可參考 <a target="_blank" rel="noopener" href="https://bearbeargo.com/posts/how-to-play-with-live2d-on-hexo/">用Live2D让看板喵入住你的Hexo博客吧(^o^)&#x2F;~</a></p>
<p>不過這邊提一下，<a target="_blank" rel="noopener" href="https://github.com/EYHN/hexo-helper-live2d">EYHN&#x2F;hexo-helper-live2d</a> 已經沒有再更新了，如果上到 GitHub，可能會有些套件安全疑慮，以後可能需要找些替代套件了。</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://evshary.com/2017/09/03/clean-code/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="evshary">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="CY's Blog">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | CY's Blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2017/09/03/clean-code/" class="post-title-link" itemprop="url">clean code</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2017-09-03 17:47:33" itemprop="dateCreated datePublished" datetime="2017-09-03T17:47:33+00:00">2017-09-03</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2024-09-16 14:11:06" itemprop="dateModified" datetime="2024-09-16T14:11:06+00:00">2024-09-16</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E6%8A%80%E8%A1%93/" itemprop="url" rel="index"><span itemprop="name">技術</span></a>
        </span>
    </span>

  
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus: </span>
    
    <a title="disqus" href="/2017/09/03/clean-code/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2017/09/03/clean-code/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>這邊記錄一下我看clean code的筆記整理。不過我得承認其實書裡很多做法我是不太贊同的，例如function要壓在20行以內這種。在C要這樣實踐很有難度，而且我看很多open source的project也都沒有遵循這樣的規範。但是這本書還是很有參考價值的，至少會讓自己反省寫code時有沒有犯了這些問題。</p>
<p>書中提到一個概念：</p>
<blockquote>
<p>程式設計師有大半時間花在看code，因此好閱讀的code對快速寫程式是有幫助的</p>
</blockquote>
<p>我想這就是我從書裡得到最大的收穫吧！</p>
<h2 id="有意義的名稱"><a href="#有意義的名稱" class="headerlink" title="有意義的名稱"></a>有意義的名稱</h2><ul>
<li><p>讓程式碼的隱含性高，名稱和意圖符合</p>
</li>
<li><p>避免誤導<br>讓變數不會相似高(autocomplete好找)<br>像是l和1，0和O</p>
</li>
<li><p>產生有意義的區別<br>例如a1,a2、ProductInfo,ProductData,或是table, variable等等都看不出差別</p>
</li>
<li><p>使用能念出來的名稱<br>人類大腦有一大部分都專注在字詞的概念，字詞是可發音的，方便理解<br>方便同事間彼此溝通</p>
</li>
<li><p>使用可被搜尋的名字<br>使用單一字母變數或是數值常數很難被找到<br>例如<code>MAX_CLASSES_PER_STUDENT</code>比<code>7</code>還要好找，命名變數e幾乎每段程式碼都會用到<br>一般來說，長命名比短命名好，命名長度應該和scope作對應，範圍越大的應該要用比較容易識別的名字</p>
</li>
<li><p>避免編碼<br>這邊的編碼是指形態或視野，作者不推薦使用匈牙利標誌法，因為那是早期編譯器不會進形型態檢查，但是現在編譯器已經會做了，所以不需要浪費時間做這件事</p>
<blockquote>
<p>可是有時候在看code，有提示還是比較容易記憶的，見仁見智</p>
</blockquote>
</li>
<li><p>成員的字首<br>不需要在變數前加上類似m_</p>
</li>
<li><p>類別方法命名<br>類別：要用名詞來命名<br>方法：用動詞命名，而且accessors要用get開頭、mutators用set、predicates要用is</p>
</li>
<li><p>使用一致性的詞彙<br>例如取得方法不要同時有get, fetch, retrieve</p>
</li>
<li><p>將命名放在有意義的上下文<br>例如state要配合address看才會知道是州，如果沒辦法配合上下文那就手動加上前綴，例如addrState</p>
</li>
<li><p>不要添加過多無意義資訊<br>例如每個變數名稱都加上特定前綴，會讓IDE無法幫你找變數</p>
</li>
</ul>
<h2 id="函式"><a href="#函式" class="headerlink" title="函式"></a>函式</h2><ul>
<li>函式要非常簡短，盡量低於20行</li>
<li>函式內的縮排也不要大過一兩層</li>
<li>做一件的函式是無法被區分成不同段落的，如宣告區、初始區等等</li>
<li>降層準則：程式閱讀應該是由上而下敘事，希望每個函式後面都進接著下一層次的概念。</li>
<li>函式應該做一件事，他們應該把這件事做好，而且他們應該只做這件事。</li>
<li>函式參數最多不要超過三個，越少越好，如果需要超過三個，可以考慮使用物件代替</li>
<li>越多參數要測試會越困難，而且參數有傳達概念的能力，讀者必須去了解它</li>
<li>另外不要用輸出型參數，用回傳值</li>
<li>分離指令和查詢(set和get)</li>
<li>使用例外處理來取代回傳錯誤碼，讓使用者不需要一遇到錯誤碼就必須馬上處理錯誤</li>
<li>結構化程式：雖然Dijkstra提到在一個函式內只能有一個return，不要有break和continue，以及goto，但是作者認為在小函式時可以適當使用，但是不應該用goto，因為只有大函式goto才有用處</li>
</ul>
<h2 id="註解"><a href="#註解" class="headerlink" title="註解"></a>註解</h2><ul>
<li>適當使用註解是用來彌補我們用程式碼表達意圖的失敗</li>
<li>沒有提供比程式碼更多資訊或是反而誤導的註解就是壞註解，當然過多資訊也是</li>
<li>git已經提供修改紀錄，不該寫在註解中，包括程式碼的註解也應該拿掉</li>
</ul>
<h3 id="適合用註解的時機"><a href="#適合用註解的時機" class="headerlink" title="適合用註解的時機"></a>適合用註解的時機</h3><ul>
<li>法律型註解</li>
<li>資訊型的註解</li>
<li>對意圖的解釋</li>
<li>闡明</li>
<li>對後果的告誡</li>
<li>TODO</li>
<li>放大重要性</li>
<li>Javadoc</li>
</ul>
<h2 id="編排"><a href="#編排" class="headerlink" title="編排"></a>編排</h2><p>每個檔案應該大部分用200行，最多不超過500行</p>
<h3 id="垂直距離"><a href="#垂直距離" class="headerlink" title="垂直距離"></a>垂直距離</h3><ul>
<li>程式中，應該要用垂直空白區分思緒(兩個函式間)，而且如果兩個函式密且相關的話，不要放太多註解在兩者之間</li>
<li>變數宣告：變數的宣告應該盡可能靠近變數被使用的地方</li>
<li>實體變數(instance)：盡量集中在最上方或最下方，方便被查詢</li>
<li>相依的函式應該放在同一區塊，相依性越高，彼此的垂直距離就要越短</li>
</ul>
<h3 id="水平距離"><a href="#水平距離" class="headerlink" title="水平距離"></a>水平距離</h3><ul>
<li><p>通常程式設計師偏好短的程式碼，不一定要80，但不要超過120</p>
</li>
<li><p>水平空白也可以用來表示優先權，例如乘法之間不要有空白，加減法則要</p>
</li>
<li><p>水平的對齊也沒有必要，因為自動化編排程式會毀掉這樣的對齊，而且這樣會讓人忽略變數型態，只關注上下的對齊</p>
<blockquote>
<p>不過像define我就覺得有必要對齊，這樣方便觀看</p>
</blockquote>
 <figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span>    abc;</span><br><span class="line"><span class="type">float</span>  def;</span><br></pre></td></tr></table></figure>
</li>
<li><p>不要使用一行文，包括單行while加上分號，很容易搞錯</p>
<blockquote>
<p>這邊注意if如果是一行，也許加上大括號會比較好，常常會在下方加上其他敘述卻忘了加括號，這樣會有不同的行為</p>
</blockquote>
</li>
</ul>
<h2 id="物件及資料結構"><a href="#物件及資料結構" class="headerlink" title="物件及資料結構"></a>物件及資料結構</h2><p>不要幫每個private都加上get, set，應該要思考怎樣才能隱藏更多資訊<br>例如</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">FuelTankCapacityInGallons()&#123;</span><br><span class="line">  <span class="type">double</span> <span class="title function_">getGallonsOfGasoline</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>會差於</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">publice <span class="keyword">interface</span> <span class="title class_">Vehicle</span>&#123;</span><br><span class="line">  <span class="type">double</span> <span class="title function_">getPercentFuelRemaining</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>因為使用者知道怎麼計算油量</p>
<h3 id="資料與物件有反對稱性"><a href="#資料與物件有反對稱性" class="headerlink" title="資料與物件有反對稱性"></a>資料與物件有反對稱性</h3><p>結構化的程式碼容易添加新函式，而不需變更原有的資料結構<br>物件導向的程式碼容易添加新類別，而不用變動已有函式</p>
<h2 id="錯誤處理"><a href="#錯誤處理" class="headerlink" title="錯誤處理"></a>錯誤處理</h2><ul>
<li>如前所說，作者建議用例外事件而非錯誤碼</li>
<li>不要使用java中的checked exception，因為如果底層函式被修改，會強制所有被呼叫的函式都要做錯誤檢查，會破壞函式封閉原則</li>
<li>不要回傳null，會讓使用者需要做額外判斷</li>
<li>傳遞null也會讓函式需要做額外判斷</li>
</ul>
<h2 id="邊界"><a href="#邊界" class="headerlink" title="邊界"></a>邊界</h2><p>當使用第三方軟體時，可以考慮製作一個介面來與第三方API銜接，這樣如果有大改動時，我們只需要修改介面即可</p>
<h2 id="單元測試"><a href="#單元測試" class="headerlink" title="單元測試"></a>單元測試</h2><p>TDD(Test-Driven Development)有三大準則</p>
<ol>
<li>在撰寫一個單元測試前，不可以撰寫任何產品程式</li>
<li>只撰寫剛好無法通過的單元測試，不能編譯也算無法通過</li>
<li>只撰寫剛好能通過當前測試失敗的產品程式<br>以上準則可以讓程式設計師被限制在30s的循環：測試程式和產品程式是一起被撰寫的。</li>
</ol>
<p>一個測試一個assert，但作者認為不需要嚴格遵守，盡可能少即可<br>一個測試一個概念</p>
<p>FIRST</p>
<ul>
<li>Fast：測試要夠快，能夠快速執行，讓人有意願去執行</li>
<li>Independent：測試程式不應該互相依賴，會讓人更難尋找錯誤</li>
<li>Repeatable：可以在任何環境下執行</li>
<li>Self-Validating：要輸出boolean告知程式成功或失敗，而非去看log主觀判斷</li>
<li>Timely：單元測試要再寫產品程式之前，這樣才能寫出可被測試的程式</li>
</ul>
<h2 id="類別"><a href="#類別" class="headerlink" title="類別"></a>類別</h2><ul>
<li>Single Responsibility Principle(SRP)：單一職責原則</li>
<li>一個類別或模組應該只有一個被修改的理由</li>
<li>保持類別的凝聚性(每個變數被多個method使用)：這樣會得到許多小class</li>
</ul>
<h2 id="系統"><a href="#系統" class="headerlink" title="系統"></a>系統</h2><p>軟體系統相較於實體系統來說是獨特的，如果我們持續保持適當的關注點分離，軟體系統的架構就能遞增地成長</p>
<h2 id="羽化"><a href="#羽化" class="headerlink" title="羽化"></a>羽化</h2><p>遵守四個原則：</p>
<ol>
<li>執行完所有測試：有測試就會消除整理程式碼會破壞程式的恐慌</li>
<li>沒有重複的部分</li>
<li>表達程式設計師的本意</li>
<li>最小化類別和方法的數量：這條守則的優先權是最低的</li>
</ol>
<h2 id="平行化"><a href="#平行化" class="headerlink" title="平行化"></a>平行化</h2><ul>
<li>物件是處理過程的抽象化，執行緒是排程的抽象化</li>
<li>平行化是去耦合的抽象化，讓「做什麼」和「什麼時候做」分開</li>
<li>另外也可以解決response time和throughput的限制</li>
</ul>
<h3 id="迷思"><a href="#迷思" class="headerlink" title="迷思"></a>迷思</h3><p>X 平行化總是能改善效能<br>X 撰寫平行化程式並不需要修改原有的設計<br>O 平行化會帶來額外負擔<br>O 正確的平行化是複雜的<br>O 平行化的錯誤通常不容易重複出現</p>
<h3 id="平行化防禦方法"><a href="#平行化防禦方法" class="headerlink" title="平行化防禦方法"></a>平行化防禦方法</h3><ul>
<li>單一職責原則(SRP)：保持平行化程式碼與其他程式有清楚劃分</li>
<li>限制資料視野：嚴格限制共享資料的存取次數</li>
<li>使用資料的副本：複製唯讀副本，減少共享資料次數</li>
<li>執行緒盡可能獨立運行</li>
<li>另外也要保持同步區塊的簡短，因為cost高</li>
<li>優雅的關閉平行化程式碼，注意能讓子thread可以關閉</li>
</ul>
<h3 id="平行化-測試"><a href="#平行化-測試" class="headerlink" title="平行化 - 測試"></a>平行化 - 測試</h3><ul>
<li>不要因為系統後來通過測試就忽略失敗，因為未來會有越來越多錯誤建立在有缺陷的基礎上</li>
<li>先讓非執行緒的程式碼可以運作，不要兩者同時debug</li>
<li>讓執行緒是可以自我調校</li>
<li>執行比處理器還多的執行緒，bug會越容易找到</li>
<li>在不同平台執行</li>
<li>調整程式碼，使其產生失敗</li>
</ul>
<h2 id="Bad-Smell"><a href="#Bad-Smell" class="headerlink" title="Bad Smell"></a>Bad Smell</h2><h3 id="Bad-Smell-註解"><a href="#Bad-Smell-註解" class="headerlink" title="Bad Smell - 註解"></a>Bad Smell - 註解</h3><ul>
<li>無效、沒意義、不適當的註解</li>
<li>被註解掉的程式碼</li>
</ul>
<h3 id="開發環境"><a href="#開發環境" class="headerlink" title="開發環境"></a>開發環境</h3><ul>
<li>需要多個步驟建立專案或系統</li>
<li>需要多個步驟進行測試</li>
</ul>
<h3 id="Bad-Smell-函式"><a href="#Bad-Smell-函式" class="headerlink" title="Bad Smell - 函式"></a>Bad Smell - 函式</h3><ul>
<li>過多參數</li>
<li>輸出行參數</li>
<li>旗標參數</li>
<li>被遺棄的函式</li>
</ul>
<h3 id="一般狀況"><a href="#一般狀況" class="headerlink" title="一般狀況"></a>一般狀況</h3><ul>
<li>同份原始碼有多種語言</li>
<li>明顯該有的行為沒被實現(最小驚奇原則)</li>
<li>在邊界上的不正確行為：不要依賴直覺，為邊界條件寫測試程式</li>
<li>無視安全規範：不要關閉編譯器的警告</li>
<li>重複的程式碼：這是最重要的規範之一</li>
<li>在錯誤抽象層次上的程式碼：高層次概念都要在基底類別</li>
<li>基底類別相依於其衍生類別</li>
<li>過多資訊：應該要把暴露在介面上的資訊減少</li>
<li>被遺棄的程式碼</li>
<li>垂直分隔：如前所示</li>
<li>不一致性：維持命名一致性</li>
<li>雜亂程式：保持原始檔整潔</li>
<li>人為耦合：不要將變數隨意宣告，然後就留在某處</li>
<li>特色留戀：類別的方法應該只對同一類別裡的變數和函式感興趣，不應該操作其他類的變數或函式</li>
<li>選擇型參數：在函式尾端加上true, false</li>
<li>模糊的意圖：盡可能讓程式碼有表達力</li>
<li>錯置的職責：像是要把常數放在讀者認為他應該要在的地方</li>
<li>使用具解釋性的變數：將計算過程拆解成富有意義名稱的暫存變數</li>
<li>函數名稱要說到做到</li>
<li>了解演算法：不是調整函式做到想讓其做到的事，而是確定解決方法是正確，並且讓函式明顯透露出是怎麼運作的</li>
<li>用多型取代if-else和switch-case</li>
<li>遵循標準的慣例：用團隊的慣例</li>
<li>用有名稱的常數取代魔術數字</li>
<li>要精確：不要有模擬兩可的程式碼，精確表達該函式要做什麼</li>
<li>封裝條件判斷：<code>if(shouldBeDeleted(timer))</code>取代<code>if(timer.hasExpired() &amp;&amp; !timre.isRecurrent())</code></li>
<li>避免否定條件判斷</li>
<li>函式只該做一件事</li>
<li>不要隨意：如果程式碼保持一致性，這樣後來修改的人就會按造前面的原則改</li>
<li>封裝邊界條件：如果a+1常被用到，那就用b&#x3D;a+1取代，這點跟refactoring似乎不太一樣</li>
</ul>
<h3 id="命名"><a href="#命名" class="headerlink" title="命名"></a>命名</h3><ul>
<li>選擇有描述性的名稱</li>
<li>在適當的抽象層次使用適當的名稱</li>
<li>越大的scope就要用較長的名稱</li>
</ul>
<h3 id="Bad-Smell-測試"><a href="#Bad-Smell-測試" class="headerlink" title="Bad Smell - 測試"></a>Bad Smell - 測試</h3><ul>
<li>不足夠的測試程式</li>
<li>不要跳過簡單的測試</li>
<li>對程式錯誤處進行詳細測試</li>
<li>測試要夠快速</li>
</ul>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://evshary.com/2017/08/27/code-review/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="evshary">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="CY's Blog">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | CY's Blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2017/08/27/code-review/" class="post-title-link" itemprop="url">code review</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2017-08-27 17:32:24" itemprop="dateCreated datePublished" datetime="2017-08-27T17:32:24+00:00">2017-08-27</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2024-09-16 14:11:06" itemprop="dateModified" datetime="2024-09-16T14:11:06+00:00">2024-09-16</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E6%8A%80%E8%A1%93/" itemprop="url" rel="index"><span itemprop="name">技術</span></a>
        </span>
    </span>

  
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus: </span>
    
    <a title="disqus" href="/2017/08/27/code-review/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2017/08/27/code-review/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>其實我一直對code review有點好奇，到底有什麼樣的好處。<br>所以統整了些資料，研究看看實行的好處以及如何實行code review。</p>
<p><strong>重要：這篇只是我想理解code review方式而整理出來的文章，不一定真的實用，之後會隨著我經驗增加而更新內容</strong></p>
<h1 id="好處"><a href="#好處" class="headerlink" title="好處"></a>好處</h1><ol>
<li>品質提升：開發者太熟悉流程了，可能會有盲點，其他人可能可以幫忙找到邏輯問題。</li>
<li>更容易維護：其他人幫忙看code可以確保程式的可讀性，不會只有開發者才看得懂，開發者開發時也因為會有人來看，所以會思考我這樣是否可以讓review的人看懂邏輯。</li>
<li>同步文化、設計理念：確保程式有符合團隊開發的風格、coding style、API使用習慣等等，也比較不會有開發了功能跟原來架構設計理念有落差的情況。</li>
<li>經驗傳承和相互學習：資深員工把經驗傳給新進員工，或是大家彼此間可以學到寫程式的小技巧。</li>
<li>備份功能：確保至少有兩個人知道code的意思。</li>
</ol>
<h1 id="成本"><a href="#成本" class="headerlink" title="成本"></a>成本</h1><ul>
<li>開發時需要多花費時間在上面code review上，但長遠來說會減少maintain時間</li>
<li>要有正確的心態來review，不然會造成團隊氣氛不佳</li>
</ul>
<h1 id="心態"><a href="#心態" class="headerlink" title="心態"></a>心態</h1><ul>
<li>code和人是分開的：我們是針對code做討論，而不是質疑人的能力。</li>
<li>相互信任：信任團隊沒人會故意寫爛code，有問題是可能只是沒想到而已。</li>
<li>相互尊重：<ul>
<li>討論過程中是相互學習的關係，而不是監視和監視的關係。</li>
<li>review者討論態度語氣不能太尖銳，被review者也要能接受合理的意見</li>
</ul>
</li>
<li>相互學習：做code review不只是要維護品質，更重要的是大家可以彼此學習，學會更好的技巧。</li>
</ul>
<h1 id="方法"><a href="#方法" class="headerlink" title="方法"></a>方法</h1><h2 id="前置作業"><a href="#前置作業" class="headerlink" title="前置作業"></a>前置作業</h2><ul>
<li>說明code review規則，以及建立正確的心態</li>
<li>事先訂定公司開發的文化，如coding style，命名規則</li>
<li>使用工具在處理機械化作業，如coding style統一，減少人為介入</li>
</ul>
<h2 id="開發功能前"><a href="#開發功能前" class="headerlink" title="開發功能前"></a>開發功能前</h2><ul>
<li>開發時間需要預估code review的時間</li>
<li>先規劃如何將大功能切成小部分：<ul>
<li>控制在reviewer 15min內可以看完的程度，這樣reviewer可以在工作一段落時稍微看一下，不佔用太多時間</li>
<li>如果功能出了大問題，也可以把風險控制在最小</li>
</ul>
</li>
</ul>
<h2 id="review前"><a href="#review前" class="headerlink" title="review前"></a>review前</h2><ul>
<li>review前要先準備好環境，可以demo或讓reviewer測試</li>
<li>如果有使用分析工具，先使用工具產生報表<ul>
<li>review時可以針對上面的重點討論</li>
<li>減少review的effort</li>
</ul>
</li>
</ul>
<h2 id="review中"><a href="#review中" class="headerlink" title="review中"></a>review中</h2><ul>
<li>讓reviewer主導review的過程，這樣才能發現盲點</li>
<li>code review時間不要超過半小時</li>
<li>利用checklist來檢查<ul>
<li>功能需求是什麼？設計方式是否有達到目的？</li>
<li>是否可以做未來擴充？</li>
<li>是否足夠安全？有沒有邏輯漏洞？</li>
<li>Error handling和corner case是否都有處理好？</li>
<li>程式是否易讀？複雜地方是否有註解？可以再精簡嗎？</li>
<li>有符合團隊coding style嗎？命名好嗎？有沒有通過工具測試？</li>
<li>效能是否可以再提升？</li>
</ul>
</li>
<li>review過程不改code，用todo list先記錄</li>
</ul>
<h2 id="review後"><a href="#review後" class="headerlink" title="review後"></a>review後</h2><ul>
<li>要留下reviewer是誰，不是要抓戰犯，而是當開發者不在時，可以知道有誰懂這段code</li>
<li>review後要留下紀錄提供學習使用</li>
<li>定期開會評估code review流程和效用<ul>
<li>review的方式要不要調整？</li>
<li>工具是否要調整？</li>
<li>checklist是否要更新？</li>
</ul>
</li>
</ul>
<h1 id="輔助工具"><a href="#輔助工具" class="headerlink" title="輔助工具"></a>輔助工具</h1><p>下面工具只是先整理起來，我並沒有每個都用過，等真正用過再來寫心得吧！</p>
<ul>
<li>統一Glossary：<ul>
<li>可以使用wiki等文件建立</li>
</ul>
</li>
<li>找重複程式碼：<ul>
<li>Simian：商用需付費，可參考<a target="_blank" rel="noopener" href="http://ithelp.ithome.com.tw/articles/10106013">CI Server 13 - 找出重複的程式碼 (Simian)</a></li>
</ul>
</li>
<li>判斷複雜度：<ul>
<li>SourceMonitor：免費，可參考<a target="_blank" rel="noopener" href="https://dotblogs.com.tw/hatelove/archive/2010/02/10/sourcemonitor.aspx">[Tool]SourceMonitor - 程式碼掃瞄</a></li>
<li>Complexity：GNU tool，可參考<a target="_blank" rel="noopener" href="http://hao.jobbole.com/complexity/">Complexity：一个测量 C 代码复杂性的工具</a></li>
</ul>
</li>
<li>分析綜合品質：<ul>
<li>FxCop：微軟出的，可參考<a target="_blank" rel="noopener" href="https://dotblogs.com.tw/hatelove/2011/12/18/introducing-fxcop-and-vs2010-static-code-analysis-tool">[Tool]靜態程式碼分析－FxCop</a></li>
<li>Adlint：Open source，但似乎很久沒更新了</li>
<li>SonarQube：可參考<a target="_blank" rel="noopener" href="https://poychang.github.io/sonarqube-csharp/">SonarQube 程式碼品質分析工具</a></li>
</ul>
</li>
<li>程式法風格：<ul>
<li>StyleCop：似乎只能用在C#，可參考<a target="_blank" rel="noopener" href="http://ithelp.ithome.com.tw/articles/10079546">[如何提升系統品質-Day17]品質量測工具-StyleCop</a></li>
<li>Artistic Style：可以自動統一所有程式碼的風格，甚至可以綁在git的commit hook上，確保大家不會commit風格不對的code</li>
</ul>
</li>
</ul>
<h1 id="如何實際落實"><a href="#如何實際落實" class="headerlink" title="如何實際落實"></a>如何實際落實</h1><p>通常要在運作一段時間的團隊加入新機制並不是那麼的容易，特別是怕會影響正常業務。<br>所以可以試試沙盒的概念，先少部分的人開始測試使用，<br>而且也不要一下子就把所有機制加上去，以不一下子造成過多改變為主，慢慢調整<br>最後相信可以找到適合團隊的做法。</p>
<h2 id="可以調整的選項"><a href="#可以調整的選項" class="headerlink" title="可以調整的選項"></a>可以調整的選項</h2><p>code review的基本概念是要讓其他人來看開發者的code，以客觀角度檢視，藉此提高品質和增進彼此相互學習<br>所以只要能達到這個目標的手段其實都是可以接受的，重點是要找到適合團隊的方式<br>這邊有幾項可以思考的方向：</p>
<ul>
<li>review的方式：網路上找到大部分的方式都是git的Pull Request功能，可以線上直接看code，不過或許直接到對方位置看也是個選項。</li>
<li>review的頻率：這個可以隨團隊開發內容的性質作調整</li>
<li>review的大小：有些review是多人一起，這個比較適合有很多新進人員，需要一起建立開發文化。不然一般是用peer review即可。</li>
</ul>
<h1 id="如何評估效用"><a href="#如何評估效用" class="headerlink" title="如何評估效用"></a>如何評估效用</h1><p>當然code review一定是好處大於壞處才會讓大家採用，那要怎麼評估好處部分呢？<br>可以從下面幾個方向來想：</p>
<ol>
<li>執行前後，bug減少的數量(這是品質部分)</li>
<li>執行前後，團隊多花費的時間(這是成本部分)</li>
<li>大家在執行後的感想？是否有所學習？(畢竟學習這種東西很難用數據衡量)</li>
<li>在code review中發現哪些問題？(bug減少數量如果不好統計，可以看有哪些潛在問題被發掘)</li>
<li>code品質部分？這部分可以用工具評分或是問問開發者的感受。</li>
</ol>
<h1 id="參考"><a href="#參考" class="headerlink" title="參考"></a>參考</h1><p><a target="_blank" rel="noopener" href="https://msdn.microsoft.com/zh-tw/communitydocs/visual-studio/ta14052601">Code Review Guidance</a>：這篇微軟的文章非常值得一看，該講的都有講出來。<br><a target="_blank" rel="noopener" href="http://ithelp.ithome.com.tw/articles/10081797">[如何提升系統品質-Day30]Code Review與總結</a>：這邊有提到許多工具，可以研究看看<br><a target="_blank" rel="noopener" href="https://blog.mz026.rocks/20170812/did-you-code-review-today">你今天 code review 了嗎？</a>：這篇也很推薦，對code review的本質和方法有不錯的論述<br><a target="_blank" rel="noopener" href="https://www.zhihu.com/question/41089988">參考腾讯Bugly的回答</a>：這邊提到code review如何實現在不同種類團隊上，偏實務方面的文章<br><a target="_blank" rel="noopener" href="https://buzzorange.com/techorange/2016/08/16/airbnb-code-review/">Airbnb 資深工程師分享：怎樣才是正確、有效的 code review</a>：提到了code review的正確態度<br><a target="_blank" rel="noopener" href="https://read01.com/JmzyoG.html#.WaJAatOg_OQ">我們是怎麼做Code Review的</a>：別人實現code review的經驗</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://evshary.com/2017/08/27/port-knocking/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="evshary">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="CY's Blog">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | CY's Blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2017/08/27/port-knocking/" class="post-title-link" itemprop="url">port knocking</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2017-08-27 10:21:28" itemprop="dateCreated datePublished" datetime="2017-08-27T10:21:28+00:00">2017-08-27</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2024-09-16 14:11:06" itemprop="dateModified" datetime="2024-09-16T14:11:06+00:00">2024-09-16</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E6%8A%80%E8%A1%93/" itemprop="url" rel="index"><span itemprop="name">技術</span></a>
        </span>
    </span>

  
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus: </span>
    
    <a title="disqus" href="/2017/08/27/port-knocking/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2017/08/27/port-knocking/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="簡介"><a href="#簡介" class="headerlink" title="簡介"></a>簡介</h1><p>port knocking就像是敲門的暗號一樣，以特定順序碰觸port，server就會執行特定指令<br>我們可以把這個功能用來開port，就像阿里巴巴要用咒語才可以開門一樣。<br>詳情可參考<a target="_blank" rel="noopener" href="http://www.portknocking.org/view/about/summary">port knocking的定義</a></p>
<h1 id="安裝"><a href="#安裝" class="headerlink" title="安裝"></a>安裝</h1><p>我這邊server是用Ubuntu, client是MAC環境。</p>
<h2 id="server"><a href="#server" class="headerlink" title="server"></a>server</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install knockd</span><br></pre></td></tr></table></figure>
<h2 id="client"><a href="#client" class="headerlink" title="client"></a>client</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew insrall knock</span><br></pre></td></tr></table></figure>

<h1 id="設定檔"><a href="#設定檔" class="headerlink" title="設定檔"></a>設定檔</h1><p>通常在位置在<code>/etc/knockd.conf</code><br>最初的設定檔，可參考<a target="_blank" rel="noopener" href="http://linux.die.net/man/1/knockd">manual</a><br>這邊是客製化的設定，目的是可以開關port 22，防止有人亂連。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">[options]</span><br><span class="line">        UseSyslog</span><br><span class="line"></span><br><span class="line">[openSSH]</span><br><span class="line">        sequence    = 3389:udp,80:tcp,21:udp,53:tcp,23:udp</span><br><span class="line">        seq_timeout = 5</span><br><span class="line">        command     = /sbin/iptables -I INPUT 1 -s %IP% -p tcp --dport 22 -j ACCEPT</span><br><span class="line">        tcpflags    = syn</span><br><span class="line"></span><br><span class="line">[closeSSH]</span><br><span class="line">        sequence    = 443:tcp,80:udp</span><br><span class="line">        seq_timeout = 5</span><br><span class="line">        command     = /sbin/iptables -D INPUT -s %IP% -p tcp --dport 22 -j ACCEPT</span><br><span class="line">        tcpflags    = syn</span><br></pre></td></tr></table></figure>

<p>功能大概看名字也可以猜出來</p>
<ul>
<li>sequence: 敲port的順序</li>
<li>seq_timeout: 間隔時間</li>
<li>command: 如果成功敲完，要執行什麼命令，這邊是用開ssh來當示範</li>
<li>tcpflags: 如果是TCP連線，需要有什麼flag</li>
</ul>
<h1 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h1><h2 id="server端"><a href="#server端" class="headerlink" title="server端"></a>server端</h2><p>把<code>/etc/default/knockd</code>中的<code>START_KNOCKD</code>改成1<br>然後啟動</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo service knockd start</span><br></pre></td></tr></table></figure>
<p>記得防火牆要先設定不讓外面的人進入</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/sbin/iptables -A INPUT --dport 8888 -j DROP</span><br></pre></td></tr></table></figure>

<h2 id="client端"><a href="#client端" class="headerlink" title="client端"></a>client端</h2><p>須先安裝knock</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 開啓</span></span><br><span class="line">knock -v 192.168.0.1 3389:udp 80:tcp 21:udp 53:tcp 23:udp</span><br><span class="line"><span class="comment"># 關閉</span></span><br><span class="line">knock -v 192.168.0.1 443:tcp 80:udp</span><br></pre></td></tr></table></figure>

<h1 id="注意"><a href="#注意" class="headerlink" title="注意"></a>注意</h1><p>knock不一定要完全正確<br>例如說如果順序是7000,8000,9000<br>那麼我們用7000-9000依序敲過去仍然是可以打開<br>但是如果是分兩次knock就沒有用了</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://evshary.com/2017/08/26/dependency/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="evshary">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="CY's Blog">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | CY's Blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2017/08/26/dependency/" class="post-title-link" itemprop="url">dependency</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2017-08-26 12:31:42" itemprop="dateCreated datePublished" datetime="2017-08-26T12:31:42+00:00">2017-08-26</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2024-09-16 14:11:06" itemprop="dateModified" datetime="2024-09-16T14:11:06+00:00">2024-09-16</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E6%8A%80%E8%A1%93/" itemprop="url" rel="index"><span itemprop="name">技術</span></a>
        </span>
    </span>

  
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus: </span>
    
    <a title="disqus" href="/2017/08/26/dependency/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2017/08/26/dependency/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="問題"><a href="#問題" class="headerlink" title="問題"></a>問題</h1><p>通常我們都會用Makefile來看相依性，如果有改動make會自動幫我們判別<br>但是有些情況，make可能無法判斷<br>以下面為例，我們有四個檔案：main.c, test.c, test.h, private.h</p>
<p>main.c</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;test.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span> &#123;</span><br><span class="line">    test();</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>test.c</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;private.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;test.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">test</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;test=%d\n&quot;</span>, PRIV_VALUE);</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>test.h</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">ifndef</span> _TEST_H</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> _TEST_H</span></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">test</span><span class="params">()</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br></pre></td></tr></table></figure>
<p>private.h</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">ifndef</span> _PRIVATE_H</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> _PRIVATE_H</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> PRIV_VALUE 3</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br></pre></td></tr></table></figure>

<p>然後假設我們的Makefile是這樣寫</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">CC=gcc</span><br><span class="line">OBJ=$(patsubst %.c,%.o,$(wildcard *.c))</span><br><span class="line">BIN=main.out</span><br><span class="line"></span><br><span class="line">%.o: %.c</span><br><span class="line">    $(CC) -c $^</span><br><span class="line"></span><br><span class="line">all: $(OBJ)</span><br><span class="line">    $(CC) $^ -o $(BIN)</span><br><span class="line"></span><br><span class="line">clean:</span><br><span class="line">    rm *.o $(BIN)</span><br></pre></td></tr></table></figure>
<p>我們試著修改private.h的MACRO值，就會發現重新make結果還是不變，需要重新make clean</p>
<h1 id="解法"><a href="#解法" class="headerlink" title="解法"></a>解法</h1><p>可以使用gcc的特殊option</p>
<ul>
<li>gcc -M xxx.c: 找出所有相依檔</li>
<li>gcc -MM xxx.c: 同-M，但不含系統檔<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">main.o: main.c test.h</span><br></pre></td></tr></table></figure></li>
<li>gcc -MP -MM xxx.c: 會加上其他header，避免某些compiler error<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">test.o: test.c test.h</span><br><span class="line">          </span><br><span class="line">test.h:</span><br></pre></td></tr></table></figure></li>
<li>-MF file: 輸出的dependency檔案名</li>
<li>-MD: 同-M -MF</li>
<li>-MMD: 同-MM -MF</li>
<li>-MT: 可以更改dependency檔案內的目標，可參考<a target="_blank" rel="noopener" href="http://blog.sina.com.cn/s/blog_717794b70101gjca.html">关于 gcc MT MF[转] </a></li>
</ul>
<p>因此只要把Makefile改成這樣即可</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">CC=gcc</span><br><span class="line">OBJ=$(patsubst %.c,%.o,$(wildcard *.c))</span><br><span class="line">BIN=main.out</span><br><span class="line"></span><br><span class="line">all: $(OBJ)</span><br><span class="line">    $(CC) $^ -o $(BIN)</span><br><span class="line"></span><br><span class="line">-include $(OBJ:.o=.d)</span><br><span class="line"></span><br><span class="line">%.o: %.c</span><br><span class="line">    $(CC) -c $&lt;</span><br><span class="line">    $(CC) -MM $&lt; &gt; $*.d</span><br><span class="line"></span><br><span class="line">clean:</span><br><span class="line">    rm *.o $(BIN) *.d</span><br></pre></td></tr></table></figure>

<p><code>-</code>代表如果有錯誤不要停止執行，<code>$(OBJ:.o=.d)</code>代表把.o換成.d，因此會變成類似</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">test.o: test.c private.h test.h</span><br><span class="line">main.o: main.c test.h</span><br></pre></td></tr></table></figure>

<p>由於該rule底下沒有statement，所以會直接對應<code>%.o: %.c</code></p>
<h1 id="參考"><a href="#參考" class="headerlink" title="參考"></a>參考</h1><ul>
<li><a target="_blank" rel="noopener" href="http://make.mad-scientist.net/papers/advanced-auto-dependency-generation/">Auto-Dependency Generation</a></li>
<li><a target="_blank" rel="noopener" href="http://www.ncpress.com.cn/zhuanti/0613_1360GCC/d-015.htm">GCC 技术参考大全 附录D 命令行选项</a></li>
</ul>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




  <nav class="pagination">
    <a class="extend prev" rel="prev" title="Previous page" aria-label="Previous page" href="/page/2/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><span class="page-number current">3</span>
  </nav>

</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 
  <span itemprop="copyrightYear">2024</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">evshary</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/muse/" rel="noopener" target="_blank">NexT.Muse</a>
  </div>

    </div>
  </footer>

  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>
  <div class="sidebar-dimmer"></div>
  <div class="back-to-top" role="button" aria-label="Back to top">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


  
  <script src="https://cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/muse.js"></script><script src="/js/next-boot.js"></script>

  <script src="https://cdn.jsdelivr.net/npm/hexo-generator-searchdb@1.4.1/dist/search.js" integrity="sha256-1kfA5uHPf65M5cphT2dvymhkuyHPQp5A53EGZOnOLmc=" crossorigin="anonymous"></script>
<script src="/js/third-party/search/local-search.js"></script>






  




<script class="next-config" data-name="disqus" type="application/json">{"enable":true,"shortname":"evshary","count":true,"i18n":{"disqus":"disqus"}}</script>
<script src="/js/third-party/comments/disqus.js"></script>

</body>
</html>
